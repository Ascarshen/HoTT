<html>
<head>
<title>Pullback.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Pullback.v</h1>

<div class="code" title="File: Pullback.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(* -*- mode: coq; mode: visual-line -*- *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 1
Time: 0.036s">
<div class="time" style="width: 60%"></div>
<pre>Require Import HoTT.Basics HoTT.Types.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 1
Time: 0.012s">
<div class="time" style="width: 20%"></div>
<pre>
Require Import Fibrations Cubical.PathSquare.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 2
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 4
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** * Pullbacks *)

(** The pullback as an object *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 8
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Pullback {A B C} (f : B -&gt; A) (g : C -&gt; A)
  := { b : B &amp; { c : C &amp; f b = g c }}.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 9
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Arguments Pullback {A B C}%type_scope (f g)%function_scope.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 11
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The universal commutative square *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 13
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>Definition pullback_pr1 {A B C} {f : B -&gt; A} {g : C -&gt; A}
: Pullback f g -&gt; B := (fun z =&gt; z.1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 14
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Definition pullback_pr2 {A B C} {f : B -&gt; A} {g : C -&gt; A}
: Pullback f g -&gt; C := (fun z =&gt; z.2.1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 16
Time: 0.006s">
<div class="time" style="width: 10%"></div>
<pre>
Definition pullback_commsq {A B C} (f : B -&gt; A) (g : C -&gt; A)
: f o pullback_pr1 == g o pullback_pr2
:= (fun z =&gt; z.2.2).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 19
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The universally induced map into it by any commutative square *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 21
Time: 0.002s">
<div class="time" style="width: 3.3333333333333%"></div>
<pre>Definition pullback_corec {A B C D}
           {f : A -&gt; B} {g : C -&gt; D} {h : A -&gt; C} {k : B -&gt; D}
           (p : k o f == g o h)
: A -&gt; Pullback k g
:= fun a =&gt; (f a ; h a ; p a).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 25
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Symmetry of the pullback *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 27
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition equiv_pullback_symm {A B C} (f : B -&gt; A) (g : C -&gt; A)
: Pullback f g &lt;~&gt; Pullback g f.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 28
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 29
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ oE equiv_sigma_symm (fun b c =&gt; f b = g c)).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 30
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (equiv_functor_sigma' 1 _); intros c.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 31
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (equiv_functor_sigma' 1 _); intros b.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_path_inverse.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 33
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 34
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Pullback over [Unit] is equivalent to a product. *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 36
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition equiv_pullback_unit_prod (A B : Type)
: Pullback (@const A Unit tt) (@const B Unit tt) &lt;~&gt; A * B.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 37
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 38
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  simple refine (equiv_adjointify _ _ _ _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 39
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 40
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre> intros [a [b _]]; exact (a , b).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 40
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 41
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros [a b]; exact (a ; b ; 1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 41
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 42
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros [a b]; exact 1.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 42
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 43
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre> intros [a [b p]]; simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply (path_sigma' _ 1); simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply (path_sigma' _ 1); simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 45
Time: 0.002s">
<div class="time" style="width: 3.3333333333333%"></div>
<pre>
    apply path_contr.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 46
Time: 0.003s">
<div class="time" style="width: 5%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 47
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The property of a given commutative square being a pullback *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 49
Time: 0.002s">
<div class="time" style="width: 3.3333333333333%"></div>
<pre>Definition IsPullback {A B C D}
           {f : A -&gt; B} {g : C -&gt; D} {h : A -&gt; C} {k : B -&gt; D}
           (p : k o f == g o h)
  := IsEquiv (pullback_corec p).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 52
Time: 0.004s">
<div class="time" style="width: 6.6666666666667%"></div>
<pre>

Definition equiv_ispullback {A B C D}
           {f : A -&gt; B} {g : C -&gt; D} {h : A -&gt; C} {k : B -&gt; D}
           (p : k o f == g o h) (ip : IsPullback p)
  : A &lt;~&gt; Pullback k g
  := Build_Equiv _ _ (pullback_corec p) ip.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 58
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The pullback of the projections [{d:D &amp; P d} -&gt; D &lt;- {d:D &amp; Q d}] is equivalent to [{d:D &amp; P d * Q d}]. *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 60
Time: 0.002s">
<div class="time" style="width: 3.3333333333333%"></div>
<pre>Definition ispullback_sigprod {D : Type} (P Q : D -&gt; Type)
  : IsPullback (fun z:{d:D &amp; P d * Q d} =&gt; 1%path : (z.1;fst z.2).1 = (z.1;snd z.2).1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 61
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 62
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
  serapply isequiv_adjointify.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 63
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 64
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre> intros [[d1 p] [[d2 q] e]]; cbn in e.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 64
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists d1.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 65
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (p, e^ # q).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 65
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 66
Time: 0.006s">
<div class="time" style="width: 10%"></div>
<pre> intros [[d1 p] [[d2 q] e]]; unfold pullback_corec; cbn in *.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 66
Time: 0.002s">
<div class="time" style="width: 3.3333333333333%"></div>
<pre>
    destruct e; reflexivity.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 67
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 68
Time: 0.013s">
<div class="time" style="width: 21.666666666667%"></div>
<pre> intros [d [p q]]; reflexivity.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 68
Time: 0.006s">
<div class="time" style="width: 10%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 69
Time: 0.003s">
<div class="time" style="width: 5%"></div>
<pre>

Definition equiv_sigprod_pullback {D : Type} (P Q : D -&gt; Type)
  : {d:D &amp; P d * Q d} &lt;~&gt; Pullback (@pr1 D P) (@pr1 D Q)
  := Build_Equiv _ _ _ (ispullback_sigprod P Q).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 73
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The pullback of a map along another one *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 75
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>Definition pullback_along {A B C} (f : B -&gt; A) (g : C -&gt; A)
: Pullback f g -&gt; B
  := pr1.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 77
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "f ^*" := (pullback_along f) : function_scope.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 79
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition hfiber_pullback_along {A B C} (f : B -&gt; A) (g : C -&gt; A) (b:B)
: hfiber (f ^* g) b &lt;~&gt; hfiber g (f b).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 82
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 83
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unfold hfiber, Pullback.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 84
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
  refine (_ oE (equiv_sigma_assoc (fun b' =&gt; {c : C &amp; f b' = g c})
                                 (fun x =&gt; (f^* g) x = b))^-1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 86
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 87
Time: 0.002s">
<div class="time" style="width: 3.3333333333333%"></div>
<pre>
  refine (_ oE (@equiv_functor_sigma'
                 B (fun b' =&gt; {_ : {c:C &amp; f b' = g c} &amp; b' = b})
                 B (fun b' =&gt; {_ : b' = b &amp; {c:C &amp; f b' = g c}})
                 1
                 (fun b' =&gt; equiv_sigma_symm0 {c:C &amp; f b' = g c} (b' = b)))).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 92
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
  refine (_ oE (equiv_sigma_assoc (fun b' =&gt; b' = b)
                                 (fun b'p =&gt; {c:C &amp; f b'p.1 = g c}))).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 94
Time: 0.002s">
<div class="time" style="width: 3.3333333333333%"></div>
<pre>
  refine (_ oE equiv_contr_sigma _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 95
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
  exact (equiv_functor_sigma' 1 (fun c =&gt; equiv_path_inverse _ _)).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 96
Time: 0.002s">
<div class="time" style="width: 3.3333333333333%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 97
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** And the dual sort of pullback *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 99
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>Definition pullback_along' {A B C} (g : C -&gt; A) (f : B -&gt; A)
: Pullback f g -&gt; C
  := fun z =&gt; z.2.1.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 101
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Arguments pullback_along' / .</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 103
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "g ^*'" := (pullback_along' g) : function_scope.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 105
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>

Definition hfiber_pullback_along' {A B C} (g : C -&gt; A) (f : B -&gt; A) (c:C)
: hfiber (g ^*' f) c &lt;~&gt; hfiber f (g c).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 109
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unfold hfiber, Pullback.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 110
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
  refine (_ oE (equiv_sigma_assoc (fun b' =&gt; {c : C &amp; f b' = g c})
                                 (fun x =&gt; (g^*' f) x = c))^-1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 112
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (equiv_functor_sigma' 1 _); intros b.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 113
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
  refine (_ oE (equiv_sigma_assoc (fun c' =&gt; f b = g c')
                                 (fun x =&gt; (g^*' f) (b;x) = c))^-1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 115
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 116
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
  refine (_ oE (@equiv_functor_sigma'
                 C (fun c' =&gt; {_ : f b = g c' &amp; c' = c})
                 C (fun c' =&gt; {_ : c' = c &amp; f b = g c'})
                 1
                 (fun c' =&gt; equiv_sigma_symm0 (f b = g c') (c' = c)))).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 121
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
  refine (_ oE (equiv_sigma_assoc (fun c' =&gt; c' = c)
                                 (fun c'p =&gt; f b = g c'p.1))).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 123
Time: 0.003s">
<div class="time" style="width: 5%"></div>
<pre>
  refine (_ oE equiv_contr_sigma _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 124
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_idmap.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 125
Time: 0.004s">
<div class="time" style="width: 6.6666666666667%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Section Functor_Pullback.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 128
Time: 0.003s">
<div class="time" style="width: 5%"></div>
<pre>

  Context {A1 B1 C1 A2 B2 C2}
          (f1 : B1 -&gt; A1) (g1 : C1 -&gt; A1)
          (f2 : B2 -&gt; A2) (g2 : C2 -&gt; A2)
          (h : A1 -&gt; A2) (k : B1 -&gt; B2) (l : C1 -&gt; C2)
          (p : f2 o k == h o f1) (q : g2 o l == h o g1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 134
Time: 0.003s">
<div class="time" style="width: 5%"></div>
<pre>

  Definition functor_pullback : Pullback f1 g1 -&gt; Pullback f2 g2
    := functor_sigma k
        (fun b1 =&gt; (functor_sigma l
                     (fun c1 e1 =&gt; p b1 @ ap h e1 @ (q c1)^))).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 139
Time: 0.005s">
<div class="time" style="width: 8.3333333333333%"></div>
<pre>

  Definition hfiber_functor_pullback (z : Pullback f2 g2)
  : hfiber functor_pullback z
    &lt;~&gt; Pullback (transport (hfiber h) z.2.2 o functor_hfiber (k := f2) p z.1)
                 (functor_hfiber q z.2.1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 144
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 145
Time: 0.003s">
<div class="time" style="width: 5%"></div>
<pre>
    destruct z as [b2 [c2 e2]].</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 146
Time: 0.002s">
<div class="time" style="width: 3.3333333333333%"></div>
<pre>
    refine (_ oE hfiber_functor_sigma _ _ _ _ _ _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 147
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
    refine (equiv_functor_sigma' 1 _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 148
Time: 0.003s">
<div class="time" style="width: 5%"></div>
<pre>
    intros [b1 e1]; simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 149
Time: 0.004s">
<div class="time" style="width: 6.6666666666667%"></div>
<pre>
    refine (_ oE (equiv_transport (fun x =&gt; hfiber (functor_sigma l _) x) _ _
                                 (transport_sigma' e1^ (c2; e2)))).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 151
Time: 0.002s">
<div class="time" style="width: 3.3333333333333%"></div>
<pre>
    refine (_ oE hfiber_functor_sigma _ _ _ _ _ _); simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 152
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
    refine (equiv_functor_sigma' 1 _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 153
Time: 0.002s">
<div class="time" style="width: 3.3333333333333%"></div>
<pre>
    intros [c1 e3]; simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 154
Time: 0.005s">
<div class="time" style="width: 8.3333333333333%"></div>
<pre>
    refine (_ oE (equiv_transport (hfiber (fun e0 =&gt; (p b1 @ ap h e0) @ (q c1)^)) _ _
                                 (ap (fun e =&gt; e3^ # e) (transport_paths_Fl e1^ e2)))).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 156
Time: 0.004s">
<div class="time" style="width: 6.6666666666667%"></div>
<pre>
    refine (_ oE (equiv_transport (hfiber (fun e0 =&gt; (p b1 @ ap h e0) @ (q c1)^)) _ _
                                 (transport_paths_Fr e3^ _))).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 158
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold functor_hfiber; simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 159
Time: 0.002s">
<div class="time" style="width: 3.3333333333333%"></div>
<pre>
    refine (equiv_concat_l (transport_sigma' e2 _) _ oE _); simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 160
Time: 0.002s">
<div class="time" style="width: 3.3333333333333%"></div>
<pre>
    refine (equiv_path_sigma _ _ _ oE _); simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 161
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
    refine (equiv_functor_sigma' 1 _); intros e0; simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 162
Time: 0.002s">
<div class="time" style="width: 3.3333333333333%"></div>
<pre>
    refine (equiv_concat_l (transport_paths_Fl e0 _) _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 163
Time: 0.002s">
<div class="time" style="width: 3.3333333333333%"></div>
<pre>
    refine (equiv_concat_l (whiskerL (ap h e0)^ (transport_paths_r e2 _)) _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 164
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
    refine (equiv_moveR_Vp _ _ _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 165
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
    refine (equiv_concat_l (concat_pp_p _ _ _) _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 166
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
    refine (equiv_moveR_Vp _ _ _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 167
Time: 0.003s">
<div class="time" style="width: 5%"></div>
<pre>
    do 2 refine (equiv_concat_r (concat_pp_p _ _ _) _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 168
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
    refine (equiv_moveL_pM _ _ _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 169
Time: 0.023s">
<div class="time" style="width: 38.333333333333%"></div>
<pre>
    abstract (rewrite !ap_V, inv_V; refine (equiv_path_inverse _ _)).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 170
Time: 0.06s">
<div class="time" style="width: 100%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 171
Time: 0.02s">
<div class="time" style="width: 33.333333333333%"></div>
<pre>

End Functor_Pullback.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 173
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Section EquivPullback.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 175
Time: 0.004s">
<div class="time" style="width: 6.6666666666667%"></div>
<pre>
  Context {A B C f g A' B' C' f' g'}
          (eA : A &lt;~&gt; A') (eB : B &lt;~&gt; B') (eC : C &lt;~&gt; C')
          (p : f' o eB == eA o f) (q :  g' o eC == eA o g).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 178
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Lemma equiv_pullback
    : Pullback f g &lt;~&gt; Pullback f' g'.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 181
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 182
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold Pullback.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 183
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply (equiv_functor_sigma' eB); intro b.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 184
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply (equiv_functor_sigma' eC); intro c.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 185
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (equiv_concat_l (p _) _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 186
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (equiv_concat_r (q _)^ _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 187
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (equiv_ap' eA _ _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 188
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 189
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

End EquivPullback.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 191
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>


(** Pullbacks commute with sigmas *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 194
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section PullbackSigma.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 194
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Context
    {X Y Z : Type}
    {A : X -&gt; Type} {B : Y -&gt; Type} {C : Z -&gt; Type}
    (f : Y -&gt; X) (g : Z -&gt; X)
    (r : forall x, B x -&gt; A (f x))
    (s : forall x, C x -&gt; A (g x)).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 201
Time: 0.003s">
<div class="time" style="width: 5%"></div>
<pre>

  Definition equiv_sigma_pullback
    : {p : Pullback f g &amp; Pullback (transport A p.2.2 o r p.1) (s p.2.1)}
      &lt;~&gt; Pullback (functor_sigma f r) (functor_sigma g s).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 205
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 206
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
    refine (_ oE (equiv_sigma_assoc _ _)^-1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 207
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (equiv_sigma_assoc _ _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 208
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
    apply (equiv_functor_sigma' equiv_idmap); intro y.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 209
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
    refine (_ oE (equiv_sigma_assoc _ _)^-1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 210
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
    refine (equiv_functor_sigma' equiv_idmap _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 211
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    1: intro; apply equiv_sigma_assoc.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 212
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
    refine (equiv_sigma_symm _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 213
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (equiv_functor_sigma' equiv_idmap _); intro z.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 214
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (_ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    {</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 216
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> refine (equiv_functor_sigma' equiv_idmap _); intro b.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 216
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      refine (equiv_functor_sigma' equiv_idmap _); intro c.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 217
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply equiv_path_sigma.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 218
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 218
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
    refine (equiv_functor_sigma' equiv_idmap _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 219
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
    1: intro b; cbn; apply equiv_sigma_symm.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 220
Time: 0.001s">
<div class="time" style="width: 1.6666666666667%"></div>
<pre>
    cbn; apply equiv_sigma_symm.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 221
Time: 0.024s">
<div class="time" style="width: 40%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 222
Time: 0.014s">
<div class="time" style="width: 23.333333333333%"></div>
<pre>

End PullbackSigma.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 225
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>


</pre>
</div>
</body>
</html>

