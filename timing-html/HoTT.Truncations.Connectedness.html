<html>
<head>
<title>Connectedness.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Connectedness.v</h1>

<div class="code" title="File: Connectedness.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(* -*- mode: coq; mode: visual-line -*-  *)
(** * Connectedness *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 2
Time: 0.022s">
<div class="time" style="width: 1.3555144793592%"></div>
<pre>Require Import Basics.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 2
Time: 0.026s">
<div class="time" style="width: 1.6019716574245%"></div>
<pre>
Require Import Types.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 3
Time: 0.006s">
<div class="time" style="width: 0.36968576709797%"></div>
<pre>
Require Import TruncType.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 4
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Require Import UnivalenceImpliesFunext.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 6
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import HProp.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 7
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import EquivalenceVarieties.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 8
Time: 0.002s">
<div class="time" style="width: 0.12322858903266%"></div>
<pre>
Require Import Extensions.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 9
Time: 0.002s">
<div class="time" style="width: 0.12322858903266%"></div>
<pre>
Require Import Factorization.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 10
Time: 0.016s">
<div class="time" style="width: 0.98582871226124%"></div>
<pre>
Require Export Modality.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 11
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>        (* [Export] since the actual definitions of connectednes appear there, in the generality of a modality. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 11
Time: 0.187s">
<div class="time" style="width: 11.521873074553%"></div>
<pre>Require Import Truncations.Core.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 11
Time: 0.002s">
<div class="time" style="width: 0.12322858903266%"></div>
<pre>
Import TrM.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 12
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 14
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope trunc_scope.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 15
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** There is a slight controversy of indexing for connectedness — in particular, how the indexing for maps shoud relate to the indexing for types.  One may reasonably take the connectedness of a map to correspond either to that of its *fibers*, or of its *cofiber*; these differ by 1.  The traditional topological indexing uses the cofiber.  We use the fiber, as does Lurie in [HTT]; but we choose to agree with the traditional indexing on types, while Lurie agrees with it on maps.

Currently, the translation is therefore as follows:

       HoTT              Traditional       Lurie

Map    (n-1)-connected   n-connected       n-connective
Type   n-connected       n-connected       (n+1)-connective

A handy benchmark: under our indexing, the map [S1 -&gt; 1] is 0-connected but not 1-connected, while the map [1 -&gt; S1] is (–1)–connected but not 0-connected.


One reason for our choice is that this way, the n-truncated and n-connected maps are the modal and modally-connected maps for the n-truncation modality.  Many of the basic lemmas about connected maps are in fact true for any modality, and can be found in [Modality.v].  Thus, here we consider mainly properties that involve the interaction of connectedness at different truncation levels. *)


</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 31
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section Extensions.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 31
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
  Context `{Univalence}.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Truncatedness of the type of extensions *)

(** A key lemma on the interaction between connectedness and truncatedness: suppose one is trying to extend along an n-connected map, into a k-truncated family of types (k ≥ n).  Then the space of possible extensions is (k–n–2)-truncated.

(Mnemonic for the indexing: think of the base case, where k=n; then we know we can eliminate, so the space of extensions is contractible.)

This lemma is most useful via corollaries like the wedge-inclusion, the wiggly wedge, and their n-ary generalizations. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 40
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>Lemma istrunc_extension_along_conn {m n : trunc_index}
  {A B : Type} (f : A -&gt; B) `{IsConnMap n _ _ f}
  (P : B -&gt; Type) {HP : forall b:B, IsTrunc (m +2+ n) (P b)}
  (d : forall a:A, P (f a))
: IsTrunc m (ExtensionAlong f P d).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert P HP d.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 46
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre> induction m as [ | m' IH]; intros P HP d; simpl in *.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (* m = –2 *)
 </pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 48
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>-</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 48
Time: 0.003s">
<div class="time" style="width: 0.18484288354898%"></div>
<pre> exists (extension_conn_map_elim n f P d).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 48
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros y.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 49
Time: 0.002s">
<div class="time" style="width: 0.12322858903266%"></div>
<pre> apply (allpath_extension_conn_map n); assumption.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 49
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* m = S m' *)
 </pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 51
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>-</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 51
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros e e'.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 51
Time: 0.136s">
<div class="time" style="width: 8.3795440542206%"></div>
<pre> refine (trunc_equiv _ (path_extension e e')).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 51
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
(* magically infers: paths in extensions = extensions into paths,
                       which by induction is m'-truncated. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 53
Time: 0.002s">
<div class="time" style="width: 0.12322858903266%"></div>
<pre>Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 53
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Connectivity of pointed types *)

(** The connectivity of a pointed type and (the inclusion of) its point are intimately connected. *)

(** We can't make both of these [Instance]s, as that would result in infinite loops. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 59
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance conn_pointed_type {n : trunc_index} {A : Type} (a0:A)
 `{IsConnMap n _ _ (unit_name a0)} : IsConnected n.+1 A | 1000.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 60
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 61
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply isconnected_from_elim.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 62
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros C HC f.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 63
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exists (f a0).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 63
Time: 0.009s">
<div class="time" style="width: 0.55452865064695%"></div>
<pre>
  refine (conn_map_elim n (unit_name a0) _ (fun _ =&gt; idpath)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 64
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 65
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition conn_point_incl {n : trunc_index} {A : Type} (a0:A)
       `{IsConnected n.+1 A} : IsConnMap n (unit_name a0).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 68
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 69
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply conn_map_from_extension_elim.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 70
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros P ?.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 71
Time: 0.002s">
<div class="time" style="width: 0.12322858903266%"></div>
<pre> set (PP := fun a =&gt; BuildTruncType n (P a)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 71
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
  assert (QQ := isconnected_elim n.+1 (TruncType n) PP).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 72
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
  destruct QQ as [[Q0 HQ] e].</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 73
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  assert (e' := fun a =&gt; ap trunctype_type (e a)); simpl in e'.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 74
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> clear HQ e.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 74
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros d.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> set (d0 := d tt).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exists (fun a =&gt; (transport idmap (e' a0 @ (e' a)^) d0)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 76
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros [].</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 77
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> change (d tt) with (transport idmap 1 d0).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 77
Time: 0.002s">
<div class="time" style="width: 0.12322858903266%"></div>
<pre>
  apply ap10, ap, concat_pV.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 78
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 79
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Hint Immediate conn_point_incl : typeclass_instances.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** TODO: generalise the above to any map with a section. *)

</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 84
Time: 0.003s">
<div class="time" style="width: 0.18484288354898%"></div>
<pre>End Extensions.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 84
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Decreasing connectedness *)

(** An [n.+1]-connected type is also [n]-connected.  This obviously can't be an [Instance]! *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition isconnected_pred n A `{IsConnected n.+1 A}
: IsConnected n A.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 89
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 90
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply isconnected_from_elim; intros C ? f.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 91
Time: 0.009s">
<div class="time" style="width: 0.55452865064695%"></div>
<pre>
  refine (isconnected_elim n.+1 C f).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 92
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** By induction, an [n.+1]-connected type is also [-1]-connected. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 95
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition merely_isconnected n A `{IsConnected n.+1 A}
  : merely A.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 96
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 97
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  induction n as [|n IHn].</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 98
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 99
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply center; assumption.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 99
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 100
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply IHn, isconnected_pred; assumption.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 100
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 101
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Connectedness of path spaces *)

</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 104
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance isconnected_paths `{Univalence} {n A}
       `{IsConnected n.+1 A} (x y : A)
: IsConnected n (x = y).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 106
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 107
Time: 0.1s">
<div class="time" style="width: 6.1614294516328%"></div>
<pre>
  refine (contr_equiv' _ (equiv_path_Tr x y)^-1).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 108
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 109
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** 0-connectedness *)

(** To be 0-connected is the same as to be (-1)-connected and that any two points are merely equal.  *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 113
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition merely_path_is0connected `{Univalence}
           (A : Type) `{IsConnected 0 A} (x y : A)
: merely (x = y).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 115
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 116
Time: 1.623s">
<div class="time" style="width: 100%"></div>
<pre>
  refine ((equiv_path_Tr x y)^-1 (path_contr (tr x) (tr y))).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition is0connected_merely_allpath `{Univalence}
           (A : Type) `{merely A}
           (p : forall (x y:A), merely (x = y))
: IsConnected 0 A.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 123
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 124
Time: 0.053s">
<div class="time" style="width: 3.2655576093654%"></div>
<pre>
  strip_truncations.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 125
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (contr_inhabited_hprop).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 127
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply hprop_allpath; intros z w.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 127
Time: 0.115s">
<div class="time" style="width: 7.0856438693777%"></div>
<pre>
    strip_truncations.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 128
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
    refine (equiv_path_Tr z w (p z w)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 130
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply tr; assumption.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 130
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 131
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** 0-connected types are indecomposable *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 133
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance indecomposable_0connected `{Univalence}
       (X : Type) `{IsConnected 0 X}
: Indecomposable X.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 135
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 136
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  assert (IsConnected -1 X) by refine (isconnected_pred -1 X).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 137
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  constructor.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 139
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros A B f.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 139
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
    assert (z := center (merely X) : merely X); generalize z.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 140
Time: 0.06s">
<div class="time" style="width: 3.6968576709797%"></div>
<pre>
    refine (Trunc_rec _).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 141
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 142
Time: 0.032s">
<div class="time" style="width: 1.9716574245225%"></div>
<pre> apply ishprop_sum; try exact _.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 142
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intros l r.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 143
Time: 0.11s">
<div class="time" style="width: 6.7775723967961%"></div>
<pre> strip_truncations.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 143
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact (not_is_inl_and_inr' (f z) (l z) (r z)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 144
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 145
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros x.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 145
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      remember (f x) as y eqn:p.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 146
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
      destruct y as [a|b]; [ left | right ]; intros x'.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 147
Time: 0.27s">
<div class="time" style="width: 16.635859519409%"></div>
<pre>
      all:assert (q := merely_path_is0connected X x x');
        strip_truncations.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 149
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
      all:refine (transport _ (ap f q) _).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 150
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
      all:exact (transport _ p^ tt).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 151
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 152
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros nx.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 152
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
    apply (Trunc_rec (n := -1) nx).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 153
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
    exact (center (merely X)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 154
Time: 0.004s">
<div class="time" style="width: 0.24645717806531%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 155
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Section Wedge_Incl_Conn.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 157
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Connectivity of the wedge into the product.

A very useful form of the key lemma [istrunc_extension_along_conn] is the connectivity of the wedge into the product, for a pair of pointed spaces.  In fact this can be formulated without mentioning the wedge per se (so, without requiring HIT’s), since the statement only needs to talk about maps out of the wedge.

Once again, we believe that the type of the conclusion is an hprop (though we do not prove it) — essentially because it is wrapping up an elimination principle and its corresponding computation rule — and so we make the proof of this result opaque. *)

</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 164
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>Context `{Univalence}
  {m n : trunc_index}
  {A : Type} (a0 : A) `{IsConnected m.+1 A}
  {B : Type} (b0 : B) `{IsConnected n.+1 B}
  (P : A -&gt; B -&gt; Type) {HP : forall a b, IsTrunc (m +2+ n) (P a b)}
  (f_a0 : forall b:B, P a0 b)
  (f_b0 : forall a:A, P a b0)
  (f_a0b0 : f_a0 b0 = f_b0 a0).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 171
Time: 0.005s">
<div class="time" style="width: 0.30807147258164%"></div>
<pre>

Corollary isconn_wedge_incl
: { f : forall a b, P a b
  &amp; { e_a0 : forall b, f a0 b = f_a0 b
  &amp; { e_b0 : forall a, f a b0 = f_b0 a
  &amp; e_b0 a0 = (e_a0 b0) @ f_a0b0 }}}.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 177
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 178
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
  assert (goal_as_extension :
    ExtensionAlong (unit_name a0)
      (fun a =&gt; ExtensionAlong (unit_name b0) (P a) (unit_name (f_b0 a)))
      (unit_name (f_a0 ; (unit_name f_a0b0)))).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 182
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 183
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply (extension_conn_map_elim m).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 183
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 184
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply (conn_point_incl a0).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 184
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 185
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros a.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 185
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
      apply (istrunc_extension_along_conn (n := n)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 186
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      *</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 187
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre> apply (conn_point_incl b0).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 187
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      *</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 188
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply HP.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 188
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 189
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre> destruct goal_as_extension as [f_eb name_ea_eab].</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 189
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    assert (ea_eab := name_ea_eab tt); clear name_ea_eab.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 190
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
    exists (fun a =&gt; pr1 (f_eb a)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 191
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
    exists (fun b =&gt; apD10 (ea_eab ..1) b).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 192
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
    exists (fun a =&gt; pr2 (f_eb a) tt).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 193
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* The last component is essentially (g' ..2), wrapped in a bit of path-algebra. *)
   </pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 195
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>apply moveL_Mp.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 195
Time: 0.003s">
<div class="time" style="width: 0.18484288354898%"></div>
<pre>
    apply (concatR (apD10 (ea_eab ..2) tt)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 196
Time: 0.002s">
<div class="time" style="width: 0.12322858903266%"></div>
<pre>
    set (ea := ea_eab ..1).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 197
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> generalize ea; simpl.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 197
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> clear ea_eab ea.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 197
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 197
Time: 0.003s">
<div class="time" style="width: 0.18484288354898%"></div>
<pre>
    rewrite transport_arrow.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 198
Time: 0.002s">
<div class="time" style="width: 0.12322858903266%"></div>
<pre> rewrite transport_const.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 198
Time: 0.003s">
<div class="time" style="width: 0.18484288354898%"></div>
<pre> rewrite transport_paths_Fl.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 198
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact 1%path.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 199
Time: 0.009s">
<div class="time" style="width: 0.55452865064695%"></div>
<pre>
Qed.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 200
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** It is easier to apply the above result with its components separated. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition wedge_incl_elim : forall a b, P a b
  := isconn_wedge_incl.1.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 203
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>

Definition wedge_incl_comp1 : forall b, wedge_incl_elim a0 b = f_a0 b
  := isconn_wedge_incl.2.1.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 206
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>

Definition wedge_incl_comp2 : forall a, wedge_incl_elim a b0 = f_b0 a
  := isconn_wedge_incl.2.2.1.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 209
Time: 0.002s">
<div class="time" style="width: 0.12322858903266%"></div>
<pre>

Definition wedge_incl_comp3
  : wedge_incl_comp2 a0 = (wedge_incl_comp1 b0) @ f_a0b0
  := isconn_wedge_incl.2.2.2.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 213
Time: 0.002s">
<div class="time" style="width: 0.12322858903266%"></div>
<pre>

End Wedge_Incl_Conn.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 215
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>

Definition wedge_incl_elim_uncurried `{Univalence}
  {m n : trunc_index}
  {A : Type} (a0 : A) `{IsConnected m.+1 A}
  {B : Type} (b0 : B) `{IsConnected n.+1 B}
  (P : A -&gt; B -&gt; Type) {HP : forall a b, IsTrunc (m +2+ n) (P a b)}
  (fs : {f_a0 : forall b:B, P a0 b
        &amp; { f_b0 : forall a:A, P a b0
        &amp; f_a0 b0 = f_b0 a0 }})
  : forall (a : A) (b : B), P a b.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 225
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 226
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
  destruct fs as [f_a0 [f_b0 f_a0b0]].</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 227
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
  refine (wedge_incl_elim _ _ _ _ _ f_a0b0).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 228
Time: 0.001s">
<div class="time" style="width: 0.061614294516328%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 230
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

