<html>
<head>
<title>PathSquare.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for PathSquare.v</h1>

<div class="code" title="File: PathSquare.v
Line: 1
Time: 0.018s">
<div class="time" style="width: 7.258064516129%"></div>
<pre>Require Import Basics.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 1
Time: 0.021s">
<div class="time" style="width: 8.4677419354839%"></div>
<pre>
Require Import Types.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 2
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
Require Import DPath.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Declare Scope square_scope.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Delimit Scope square_scope with square.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 6
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Unset Elimination Schemes.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 8
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Homogeneous squares *)

(* 
        x00 ----pi0---- x01
         |               |
         |               |
        p0i     ==&gt;     p1i
         |               |
         |               |
        x01-----pi1-----x11
 *)

(* Contents:

  * Definition of PathSquare 
  * Degnerate PathSquares as paths between paths
  * Flipping squares horizontally and vertically
  * PathSquare transpose
  * PathSquare inverse
  * PathSquare rotations
  * Edge rewriting
  * Concatenation
  * Kan fillers
  * natural squares from ap

*)


(* Definition of PathSquare *)
(* PathSquare left right up down *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 39
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>Cumulative Inductive PathSquare {A} : forall a00 {a10 a01 a11 : A},
  a00 = a10 -&gt; a01 = a11 -&gt; a00 = a01 -&gt; a10 = a11 -&gt; Type
  := sq_id : forall {x : A},
    PathSquare x 1 1 1 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 42
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Arguments sq_id {A x}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments PathSquare {A _ _ _ _}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Notation "1" := sq_id : square_scope.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* It seems coq has difficulty actually using these, but destruct seems
   to work fine. TODO: Work out if these are correct. *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 49
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Scheme PathSquare_ind := Induction for PathSquare Sort Type.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 49
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments PathSquare_ind {A} P f {_ _ _ _ _ _ _ _} _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 50
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Scheme PathSquare_rec := Minimality for PathSquare Sort Type.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 51
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments PathSquare_rec {A} P f {_ _ _ _ _ _ _ _} _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* PathSquare_ind is an equivalence, similar to how paths_ind is *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 54
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>Global Instance isequiv_PathSquare_ind `{Funext} {A}
  (P : forall (a00 a10 a01 a11 : A) (p : a00 = a10) (p0 : a01 = a11)
    (p1 : a00 = a01) (p2 : a10 = a11),
    PathSquare p p0 p1 p2 -&gt; Type) : IsEquiv (PathSquare_ind P).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 57
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 58
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  serapply isequiv_adjointify.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 59
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: intros X ?; apply X.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 60
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  2: intro; reflexivity.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 61
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 62
Time: 0.005s">
<div class="time" style="width: 2.0161290322581%"></div>
<pre>
  do 8 (apply path_forall; intro).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 63
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  apply path_forall.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 64
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  by intros [].</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 65
Time: 0.007s">
<div class="time" style="width: 2.8225806451613%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 66
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* PathSquares can be given by 2-dimensional paths *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 68
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>Definition sq_path {A} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11}
  {p0x : a00 = a01} {p1x : a10 = a11}
  : px0 @ p1x = p0x @ px1 -&gt; PathSquare px0 px1 p0x p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 71
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 72
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro q.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 73
Time: 0.006s">
<div class="time" style="width: 2.4193548387097%"></div>
<pre>
  by destruct px0, p0x, (cancelL 1 _ _ q), p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 74
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 75
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>

Global Instance isequiv_sq_path {A} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
: IsEquiv (@sq_path _ _ _ _ _ px0 px1 p0x p1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 79
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 80
Time: 0.005s">
<div class="time" style="width: 2.0161290322581%"></div>
<pre>
  serapply isequiv_adjointify; try by intros [].</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro X.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 82
Time: 0.002s">
<div class="time" style="width: 0.80645161290323%"></div>
<pre>
  destruct px0, p0x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 83
Time: 0.248s">
<div class="time" style="width: 100%"></div>
<pre>
  destruct (eissect (equiv_cancelL 1 _ _) X).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 84
Time: 0.079s">
<div class="time" style="width: 31.854838709677%"></div>
<pre>
  cbn; set (p := cancelL 1 _ _ X).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 85
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  clearbody p; clear X.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 86
Time: 0.004s">
<div class="time" style="width: 1.6129032258065%"></div>
<pre>
  by destruct p, p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 87
Time: 0.008s">
<div class="time" style="width: 3.2258064516129%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Squares in (n+2)-truncated types are n-truncated *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 90
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance istrunc_sq n
  {A} `{!IsTrunc n.+2 A} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11}
  {p0x : a00 = a01} {p1x : a10 = a11}
  : IsTrunc n (PathSquare px0 px1 p0x p1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 94
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 95
Time: 0.004s">
<div class="time" style="width: 1.6129032258065%"></div>
<pre>
  serapply (trunc_equiv _ sq_path).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 96
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 97
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* We can give degenerate squares *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 99
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section PathSquaresFromPaths.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 99
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* NOTE: These are much easier to prove but stringing them along with
    equivalences is how we get them to be equivalences *)

 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 104
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Context
    {A : Type} {a00 a10 a01 : A}
    {p p' : a00 = a10} {q q' : a00 = a01}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 106
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_G1  : p = p' -&gt; PathSquare p p' 1 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 109
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 110
Time: 0.006s">
<div class="time" style="width: 2.4193548387097%"></div>
<pre>
    by apply sq_path, (equiv_concat_lr (concat_p1 _)^ (concat_1p _))^-1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 111
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 112
Time: 0.042s">
<div class="time" style="width: 16.935483870968%"></div>
<pre>

  Global Instance isequiv_sq_G1 : IsEquiv sq_G1 := _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 114
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_1G : q = q' -&gt; PathSquare 1 1 q q'.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 116
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 118
Time: 0.008s">
<div class="time" style="width: 3.2258064516129%"></div>
<pre>
    by apply sq_path, (equiv_concat_lr (concat_1p _)^ (concat_p1 _))^-1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 119
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 120
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Global Instance isequiv_sq_1G : IsEquiv sq_G1 := _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 122
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>

End PathSquaresFromPaths.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 124
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* PathSquare horizontal reflexivity *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_refl_h {A} {a0 a1 : A} (p : a0 = a1)
  : PathSquare p p 1 1 := sq_G1 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 127
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* PathSquare vertical reflexivity *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_refl_v {A} {a0 a1 : A} (p : a0 = a1)
  : PathSquare 1 1 p p := sq_1G 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 130
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Horizontal flip *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 132
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>Definition sq_flip_h {A : Type} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
  : PathSquare px0 px1 p0x p1x -&gt; PathSquare px1 px0 p0x^ p1x^.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 134
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 135
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  destruct p0x, p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 136
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 137
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  by apply sq_G1, inverse, sq_G1^-1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 139
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Instance isequiv_sq_flip_h {A : Type} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
  : IsEquiv (sq_flip_h (px0:=px0) (px1:=px1) (p0x:=p0x) (p1x:=p1x)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 143
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 144
Time: 0.034s">
<div class="time" style="width: 13.709677419355%"></div>
<pre>
  destruct p0x, p1x; exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 145
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 146
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Vertical flip *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 148
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_flip_v {A : Type} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
  : PathSquare px0 px1 p0x p1x -&gt; PathSquare px0^ px1^ p1x p0x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 150
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 151
Time: 0.002s">
<div class="time" style="width: 0.80645161290323%"></div>
<pre>
  destruct px0, px1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 152
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 153
Time: 0.088s">
<div class="time" style="width: 35.483870967742%"></div>
<pre>
  by apply sq_1G, inverse, sq_1G^-1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 154
Time: 0.002s">
<div class="time" style="width: 0.80645161290323%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 155
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Instance isequiv_sq_flip_v {A : Type} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
  : IsEquiv (sq_flip_v (px0:=px0) (px1:=px1) (p0x:=p0x) (p1x:=p1x)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 159
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 160
Time: 0.11s">
<div class="time" style="width: 44.354838709677%"></div>
<pre>
  destruct px0, px1; exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 161
Time: 0.008s">
<div class="time" style="width: 3.2258064516129%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 162
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Transpose of a square *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 164
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_tr {A : Type} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
: PathSquare px0 px1 p0x p1x -&gt; PathSquare p0x p1x px0 px1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 166
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 167
Time: 0.002s">
<div class="time" style="width: 0.80645161290323%"></div>
<pre>
  by intros [].</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 168
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 169
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** [sq_tr] is "involutive" *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 171
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>Definition sq_tr_sq_tr {A : Type} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
  (s : PathSquare px0 px1 p0x p1x) : sq_tr (sq_tr s) = s.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 173
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 174
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre> 
  destruct s.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 175
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 175
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 176
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* NOTE: sq_tr ought to be some sort of involution but it obviously isn't
   since it is not of the form A -&gt; A. Perhaps there is a more general
   "involution" but between equivalent types? But then that very equivalence
   is given by sq_tr so it seems a bit circular... *)

</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 182
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section sq_tr_args.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 182
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Arguments sq_tr {_ _ _ _ _} _ _ _ _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 183
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Global Instance isequiv_sq_tr {A : Type} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
  : IsEquiv (sq_tr px0 px1 p0x p1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 186
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 187
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  serapply isequiv_adjointify.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 188
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: apply sq_tr.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 189
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1,2: exact sq_tr_sq_tr.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 190
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 191
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
End sq_tr_args.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 192
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition sq_tr_refl_h {A} {a b : A} {p : a = b}
  : sq_tr (sq_refl_h p) = sq_refl_v p.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 195
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 196
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  by destruct p.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 197
Time: 0.003s">
<div class="time" style="width: 1.2096774193548%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 198
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition sq_tr_refl_v {A} {a b : A} {p : a = b}
  : sq_tr (sq_refl_v p) = sq_refl_h p.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 201
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 202
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  by destruct p.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 203
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 204
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Operations on squares *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 206
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section PathSquareOps.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 206
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Context
    {A : Type}
    {a00 a10 a01 a11 : A}
    {px0 : a00 = a10} {px1 : a01 = a11}
    {p0x : a00 = a01} {p1x : a10 = a11}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 212
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* Inverse square *)
 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_V : PathSquare px0 px1 p0x p1x -&gt; PathSquare px1^ px0^ p1x^ p0x^.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 216
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 217
Time: 0.004s">
<div class="time" style="width: 1.6129032258065%"></div>
<pre>
    by apply sq_path, (equiv_concat_lr (inv_pp _ _ )^ (inv_pp _ _)),
      inverse2, sq_path^-1, sq_tr.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 219
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 220
Time: 0.173s">
<div class="time" style="width: 69.758064516129%"></div>
<pre>

  Global Instance isequiv_sq_V : IsEquiv sq_V := _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 222
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* Left rotation : left right top bottom  -&gt;  top bottom right left *)
 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 225
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_rot_l : PathSquare px0 px1 p0x p1x -&gt; PathSquare p0x^ p1x^ px1 px0.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 225
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 226
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 227
Time: 0.004s">
<div class="time" style="width: 1.6129032258065%"></div>
<pre>
    by apply sq_path, moveR_Vp, (equiv_concat_r (concat_pp_p _ _ _)),
      moveL_pV, sq_path^-1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 229
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 230
Time: 0.079s">
<div class="time" style="width: 31.854838709677%"></div>
<pre>

  Global Instance isequiv_sq_rot_l : IsEquiv sq_rot_l := _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 232
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* Right rotation : left right top bottom -&gt; bottom top left right *)
 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 235
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_rot_r : PathSquare px0 px1 p0x p1x -&gt; PathSquare p1x p0x px0^ px1^.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 235
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 236
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 237
Time: 0.004s">
<div class="time" style="width: 1.6129032258065%"></div>
<pre>
    by apply sq_path, moveL_Vp, (equiv_concat_l (concat_p_pp _ _ _)),
      moveR_pV, sq_path^-1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 239
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 240
Time: 0.085s">
<div class="time" style="width: 34.274193548387%"></div>
<pre>

  Global Instance isequiv_sq_rot_r : IsEquiv sq_rot_r := _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 242
Time: 0.005s">
<div class="time" style="width: 2.0161290322581%"></div>
<pre>

End PathSquareOps.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 244
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Lemmas for rewriting sides of squares *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 246
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section PathSquareRewriting.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 246
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Context {A : Type}
    {a00 a10 a01 a11 : A}
    {px0 : a00 = a10} {px1 : a01 = a11}
    {p0x : a00 = a01} {p1x : a10 = a11}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 251
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* These are all special cases of the following "rewrite all sides"
     lemma which we prove is an equivalence giving us all special cases
     as equivalences too *)

 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 257
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>Definition sq_GGGG {px0' px1' p0x' p1x'} (qx0 : px0 = px0')
    (qx1 : px1 = px1') (q0x : p0x = p0x') (q1x : p1x = p1x')
    : PathSquare px0 px1 p0x p1x -&gt; PathSquare px0' px1' p0x' p1x'.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 259
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 260
Time: 0.002s">
<div class="time" style="width: 0.80645161290323%"></div>
<pre>
    by destruct qx0, qx1, q0x, q1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 261
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 262
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>

  Global Instance isequiv_sq_GGGG {px0' px1' p0x' p1x'} (qx0 : px0 = px0')
    (qx1 : px1 = px1') (q0x : p0x = p0x') (q1x : p1x = p1x')
    : IsEquiv (sq_GGGG qx0 qx1 q0x q1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 266
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 267
Time: 0.003s">
<div class="time" style="width: 1.2096774193548%"></div>
<pre>
    destruct qx0, qx1, q0x, q1x; exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 268
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 269
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Context {px0' px1' p0x' p1x'}
    (qx0 : px0 = px0') (qx1 : px1 = px1')
    (q0x : p0x = p0x') (q1x : p1x = p1x').</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 273
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_Gccc := sq_GGGG qx0 1 1 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 275
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_cGcc := sq_GGGG 1 qx1 1 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 276
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_ccGc := sq_GGGG 1 1 q0x 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 277
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_cccG := sq_GGGG 1 1 1 q1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 278
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_GGcc := sq_GGGG qx0 qx1 1 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 279
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_GcGc := sq_GGGG qx0 1 q0x 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 280
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_GccG := sq_GGGG qx0 1 1 q1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 281
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_cGGc := sq_GGGG 1 qx1 q0x 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 282
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_cGcG := sq_GGGG 1 qx1 1 q1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 283
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_ccGG := sq_GGGG 1 1 q0x q1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 284
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_GGGc := sq_GGGG qx0 qx1 q0x 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 285
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_cGGG := sq_GGGG 1 qx1 q0x q1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 286
Time: 0.009s">
<div class="time" style="width: 3.6290322580645%"></div>
<pre>

End PathSquareRewriting.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 288
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Section MovePaths.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 290
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Context {A : Type} {x x00 x20 x02 x22 : A}
  {f10 : x00 = x20} {f12 : x02 = x22} {f01 : x00 = x02} {f21 : x20 = x22}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 292
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (** Operations to move paths around a square. We define all these operations
    immediately as equvialences. 
    The naming first number indicates in which argument the path that moves is 
    on the left of the equivalence, and the second number where it is on the right.
    The equivalences are all set up so that on the right, there is no path inversion.
    For the [24] and [13] equivalences there is a path inverse on the left.
    The corresponding equivalences [42] and [31] are the symmetric versions of these,
    but the path inverse is in another place. *)

 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 302
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_move_23 {f12'' : x02 = x} {f12' : x = x22} 
    : PathSquare f10 (f12'' @ f12') f01 f21 &lt;~&gt; PathSquare f10 f12' (f01 @ f12'') f21.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 303
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 304
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear f12.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 305
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct f12''.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 305
Time: 0.021s">
<div class="time" style="width: 8.4677419354839%"></div>
<pre> 
    serapply Build_Equiv.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 306
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 307
Time: 0.002s">
<div class="time" style="width: 0.80645161290323%"></div>
<pre> refine (fun s =&gt; sq_ccGc (concat_p1 _)^ (sq_cGcc (concat_1p _) s)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 307
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 308
Time: 0.014s">
<div class="time" style="width: 5.6451612903226%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 308
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 309
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_move_14 {f10'' : x00 = x} {f10' : x = x20} 
    : PathSquare (f10'' @ f10') f12 f01 f21 &lt;~&gt; PathSquare f10'' f12 f01 (f10' @ f21).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 312
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 313
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear f10.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 314
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct f10'.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 314
Time: 0.014s">
<div class="time" style="width: 5.6451612903226%"></div>
<pre> 
    serapply Build_Equiv.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 315
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 316
Time: 0.002s">
<div class="time" style="width: 0.80645161290323%"></div>
<pre> refine (fun s =&gt; sq_cccG (concat_1p _)^ (sq_Gccc (concat_p1 _) s)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 316
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 317
Time: 0.015s">
<div class="time" style="width: 6.0483870967742%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 317
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 318
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>

  Definition sq_move_24 {f12'' : x02 = x} {f12' : x22 = x} 
    : PathSquare f10 (f12'' @ f12'^) f01 f21 &lt;~&gt; PathSquare f10 f12'' f01 (f21 @ f12').</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 321
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 322
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear f12.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 323
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct f12'.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 323
Time: 0.014s">
<div class="time" style="width: 5.6451612903226%"></div>
<pre> 
    serapply Build_Equiv.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 324
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 325
Time: 0.002s">
<div class="time" style="width: 0.80645161290323%"></div>
<pre> refine (fun s =&gt; sq_cccG (concat_p1 _)^ (sq_cGcc (concat_p1 _) s)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 325
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 326
Time: 0.018s">
<div class="time" style="width: 7.258064516129%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 326
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 327
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_move_42 {f12'' : x02 = x} {f12' : x = x22} 
    : PathSquare f10 f12'' f01 (f21 @ f12'^) &lt;~&gt; PathSquare f10 (f12'' @ f12') f01 f21.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 330
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 331
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear f12.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 332
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct f12'.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 332
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
    symmetry.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 333
Time: 0.014s">
<div class="time" style="width: 5.6451612903226%"></div>
<pre>
    serapply Build_Equiv.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 334
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 335
Time: 0.002s">
<div class="time" style="width: 0.80645161290323%"></div>
<pre> refine (fun s =&gt; sq_cccG (concat_p1 _)^ (sq_cGcc (concat_p1 _) s)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 335
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 336
Time: 0.016s">
<div class="time" style="width: 6.4516129032258%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 336
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 337
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>

  Definition sq_move_13 {f10'' : x = x00} {f10' : x = x20} 
    : PathSquare (f10''^ @ f10') f12 f01 f21 &lt;~&gt; PathSquare f10' f12 (f10'' @ f01) f21.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 340
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 341
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear f10.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 342
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct f10''.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 342
Time: 0.014s">
<div class="time" style="width: 5.6451612903226%"></div>
<pre> 
    serapply Build_Equiv.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 343
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 344
Time: 0.002s">
<div class="time" style="width: 0.80645161290323%"></div>
<pre> refine (fun s =&gt; sq_ccGc (concat_1p _)^ (sq_Gccc (concat_1p _) s)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 344
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 345
Time: 0.015s">
<div class="time" style="width: 6.0483870967742%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 345
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 346
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>

  Definition sq_move_31 {f10'' : x00 = x} {f10' : x = x20} 
    : PathSquare f10' f12 (f10''^ @ f01) f21 &lt;~&gt; PathSquare (f10'' @ f10') f12 f01 f21.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 349
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 350
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear f10.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 351
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct f10''.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 351
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
    symmetry.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 352
Time: 0.029s">
<div class="time" style="width: 11.693548387097%"></div>
<pre>
    refine (Build_Equiv _ _ (fun s =&gt; sq_ccGc (concat_1p _)^ (sq_Gccc (concat_1p _) s)) _).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 353
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 354
Time: 0.004s">
<div class="time" style="width: 1.6129032258065%"></div>
<pre>

End MovePaths.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 356
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Section DPathPathSquare.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 358
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* An alternative equivalent definition for PathSquares in terms of
     DPaths. This is the original one Mike had written. *)

 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 363
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Context {A} {a00 a10 a01 a11 : A}
    {px0 : a00 = a10} {px1 : a01 = a11}
    {p0x : a00 = a01} {p1x : a10 = a11}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 365
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* Depdent path product definition of PathSquare *)
 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 368
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>Definition sq_dp_prod : DPath (fun xy =&gt; fst xy = snd xy)
    (path_prod' p0x p1x) px0 px1 -&gt; PathSquare px0 px1 p0x p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 369
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 370
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 371
Time: 0.01s">
<div class="time" style="width: 4.0322580645161%"></div>
<pre>
    set (p := (dp_paths_FlFr _ _ _)^-1 X).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 372
Time: 0.008s">
<div class="time" style="width: 3.2258064516129%"></div>
<pre>
    apply (equiv_concat_l (concat_pp_p _ _ _) _)^-1,
      moveL_Mp, sq_path in p.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 374
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
    exact (sq_ccGG (ap_fst_path_prod _ _) (ap_snd_path_prod _ _) p).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 375
Time: 0.002s">
<div class="time" style="width: 0.80645161290323%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 376
Time: 0.175s">
<div class="time" style="width: 70.564516129032%"></div>
<pre>

  Global Instance isequiv_sq_dpath_prod : IsEquiv sq_dp_prod := _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 378
Time: 0.008s">
<div class="time" style="width: 3.2258064516129%"></div>
<pre>

End DPathPathSquare.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 380
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Concatenation of squares *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 382
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section PathSquareConcat.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 382
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Context {A : Type} {a00 a10 a01 a11 : A}
    {px0 : a00 = a10} {px1 : a01 = a11}
    {p0x : a00 = a01} {p1x : a10 = a11}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 386
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* Horizontal concatenation of squares *)
 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 389
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>Definition sq_concat_h  {a02 a12 : A}
    {p0y : a01 = a02} {p1y : a11 = a12} {px2 : a02 = a12}
    : PathSquare px0 px1 p0x p1x -&gt; PathSquare px1 px2 p0y p1y
      -&gt; PathSquare px0 px2 (p0x @ p0y) (p1x @ p1y).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 392
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 393
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros a b.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 394
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
    destruct b.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 395
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (sq_ccGG _ _ a).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 396
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    1,2: apply inverse, concat_p1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 397
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 398
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* Vertical concatenation of squares *)
 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 401
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>Definition sq_concat_v {a20 a21 : A}
    {py0 : a10 = a20} {py1 : a11 = a21} {p2x : a20 = a21}
    : PathSquare px0 px1 p0x p1x -&gt; PathSquare py0 py1 p1x p2x
      -&gt; PathSquare (px0 @ py0) (px1 @ py1) p0x p2x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 404
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 405
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros a b.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 406
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
    destruct b.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 407
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (sq_GGcc _ _ a).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 408
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    1,2: apply inverse, concat_p1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 409
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 410
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>

End PathSquareConcat.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 412
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Notations for horizontal and vertical concatenation *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 414
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Infix "@h" := sq_concat_h (at level 10) : square_scope.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 414
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Infix "@v" := sq_concat_v (at level 10) : square_scope.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 415
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Horizontal groupoid laws for concatenation *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 417
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section GroupoidLawsH.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 417
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* There are many more laws to write, but it seems we don't really need them *)

 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 421
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>Context
    {A : Type}
    {a00 a10 a01 a11 a02 a12 a20 a21 a03 a13 : A} {px0 : a00 = a10}
    {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
    {px2 : a02 = a12} {p0y : a01 = a02} {p1y : a11 = a12}
    {px3 : a03 = a13} {p0z : a02 = a03} {p1z : a12 = a13}
    (s : PathSquare px0 px1 p0x p1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 427
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Open Scope square_scope.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 429
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Notation hr := (sq_refl_h _).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 430
Time: 0.003s">
<div class="time" style="width: 1.2096774193548%"></div>
<pre>

  Definition sq_concat_h_s1 : s @h hr = sq_ccGG (concat_p1 _)^ (concat_p1 _)^ s.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 432
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 433
Time: 0.004s">
<div class="time" style="width: 1.6129032258065%"></div>
<pre>
    by destruct s.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 434
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 435
Time: 0.004s">
<div class="time" style="width: 1.6129032258065%"></div>
<pre>

  Definition sq_concat_h_1s : hr @h s = sq_ccGG (concat_1p _)^ (concat_1p _)^ s.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 437
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 438
Time: 0.004s">
<div class="time" style="width: 1.6129032258065%"></div>
<pre>
    by destruct s.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 439
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 440
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Context (t : PathSquare px1 px2 p0y p1y) (u : PathSquare px2 px3 p0z p1z).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 442
Time: 0.005s">
<div class="time" style="width: 2.0161290322581%"></div>
<pre>

  Definition sq_concat_h_ss_s : (s @h t) @h u
    = sq_ccGG (concat_p_pp _ _ _) (concat_p_pp _ _ _) (s @h (t @h u)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 445
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 446
Time: 0.108s">
<div class="time" style="width: 43.548387096774%"></div>
<pre>
    by destruct s, u, (sq_1G^-1 t), p0y.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 447
Time: 0.005s">
<div class="time" style="width: 2.0161290322581%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 448
Time: 0.005s">
<div class="time" style="width: 2.0161290322581%"></div>
<pre>

End GroupoidLawsH.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 450
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* PathSquare Kan fillers ~ Every open box has a lid *)

</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 453
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section Kan.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 453
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* These can be used to prove groupoid laws about paths *)
 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 456
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Context {A : Type} {a00 a10 a01 a11 : A}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 456
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_fill_l (px1 : a01 = a11) (p0x : a00 = a01) (p1x : a10 = a11)
    : {px0 : a00 = a10 &amp; PathSquare px0 px1 p0x p1x}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 459
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 460
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists (p0x @ px1 @ p1x^).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 461
Time: 0.003s">
<div class="time" style="width: 1.2096774193548%"></div>
<pre>
    by destruct px1, p0x, p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 462
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 463
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_fill_r (px0 : a00 = a10) (p0x : a00 = a01) (p1x : a10 = a11)
    : {px1 : a01 = a11 &amp; PathSquare px0 px1 p0x p1x}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 466
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 467
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists (p0x^ @ px0 @ p1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 468
Time: 0.003s">
<div class="time" style="width: 1.2096774193548%"></div>
<pre>
    by destruct px0, p0x, p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 469
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 470
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_fill_t (px0 : a00 = a10) (px1 : a01 = a11) (p1x : a10 = a11)
    : {p0x : a00 = a01 &amp; PathSquare px0 px1 p0x p1x}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 473
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 474
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists (px0 @ p1x @ px1^).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 475
Time: 0.003s">
<div class="time" style="width: 1.2096774193548%"></div>
<pre>
    by destruct px0, px1, p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 476
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 477
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_fill_b (px0 : a00 = a10) (px1 : a01 = a11) (p0x : a00 = a01)
    : {p1x : a10 = a11 &amp; PathSquare px0 px1 p0x p1x}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 480
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 481
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists (px0^ @ p0x @ px1).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 482
Time: 0.002s">
<div class="time" style="width: 0.80645161290323%"></div>
<pre>
    by destruct px0, px1, p0x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 483
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 484
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>

End Kan.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 486
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Apply a function to the sides of square *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 488
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>Definition sq_ap {A B : Type} {a00 a10 a01 a11 : A} (f : A -&gt; B)
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
  : PathSquare px0 px1 p0x p1x -&gt; PathSquare (ap f px0) (ap f px1) (ap f p0x) (ap f p1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 490
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 491
Time: 0.003s">
<div class="time" style="width: 1.2096774193548%"></div>
<pre>
  by intros [].</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 492
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 493
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Curried version of the following equivalence *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 495
Time: 0.003s">
<div class="time" style="width: 1.2096774193548%"></div>
<pre>Definition sq_prod {A B : Type} {a00 a10 a01 a11 : A} {px0 : a00 = a10}
  {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11} {b00 b10 b01 b11 : B}
  {qx0 : b00 = b10} {qx1 : b01 = b11} {q0x : b00 = b01} {q1x : b10 = b11}
  : PathSquare px0 px1 p0x p1x -&gt; PathSquare qx0 qx1 q0x q1x
    -&gt; PathSquare (path_prod' px0 qx0) (path_prod' px1 qx1)
        (path_prod' p0x q0x) (path_prod' p1x q1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 500
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 501
Time: 0.006s">
<div class="time" style="width: 2.4193548387097%"></div>
<pre>
  by intros [] [].</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 502
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 503
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(*
(* PathSquares respect products *)
(* TODO: Finish this: we ought to have some sort of eta for sq_prod
   that might help *)
Definition equiv_sq_prod {A B : Type} {a00 a10 a01 a11 : A} {px0 : a00 = a10}
  {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11} {b00 b10 b01 b11 : B}
  {qx0 : b00 = b10} {qx1 : b01 = b11} {q0x : b00 = b01} {q1x : b10 = b11}
  : (PathSquare px0 px1 p0x p1x) * (PathSquare qx0 qx1 q0x q1x)
    &lt;~&gt; PathSquare (path_prod' px0 qx0) (path_prod' px1 qx1)
        (path_prod' p0x q0x) (path_prod' p1x q1x).
Proof.
  serapply equiv_adjointify.
  1: apply uncurry, sq_prod.
  { intro c.
    destruct p1x, q1x, p0x, q0x.
    apply sq_G1^-1 in c.
    set (f := ap (ap fst) c); clearbody f.
    set (s := ap (ap snd) c); clearbody s.
    destruct ((ap_fst_path_prod _ _)^ @ ap (ap fst) c @ ap_fst_path_prod _ _).
    destruct ((ap_snd_path_prod _ _)^ @ ap (ap snd) c @ ap_snd_path_prod _ _).
    split.
    1,2: apply sq_refl_h. }
  { intro c.
    set (s1 := sq_GGGG (ap_fst_path_prod _ _) (ap_fst_path_prod _ _)
      (ap_fst_path_prod _ _) (ap_fst_path_prod _ _) (sq_ap fst c)).
    set (s2 := sq_GGGG (ap_snd_path_prod _ _) (ap_snd_path_prod _ _)
      (ap_snd_path_prod _ _) (ap_snd_path_prod _ _) (sq_ap snd c)).
    admit. }
  by intros [[] []].
Admitted. *)

(* The natural square from an ap *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 536
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition ap_nat {A B} {f f' : A -&gt; B} (h : f == f') {x y : A} (p : x = y)
  : PathSquare (ap f p) (ap f' p) (h x) (h y).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 537
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 538
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  by destruct p; apply sq_1G.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 539
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 540
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* The transpose of the natural square *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 542
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition ap_nat' {A B} {f f' : A -&gt; B} (h : f == f') {x y : A} (p : x = y)
  : PathSquare (h x) (h y) (ap f p) (ap f' p).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 543
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 544
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  by destruct p; apply sq_G1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 545
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 546
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* ap_compose fits naturally into a square *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 548
Time: 0.002s">
<div class="time" style="width: 0.80645161290323%"></div>
<pre>Definition ap_compose_sq {A B C} (f : A -&gt; B) (g : B -&gt; C) {x y : A} (p : x = y)
  : PathSquare (ap (g o f) p) (ap g (ap f p)) 1 1 := sq_G1 (ap_compose f g p).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 549
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>

Definition ap_idmap_sq {A} {x y : A} (p : x = y) : PathSquare (ap idmap p) p 1 1
  := sq_G1 (ap_idmap p).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 552
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* A DPath of a certain form can be turned into a square *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 554
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>Definition sq_dp {A B : Type} {f g : A -&gt; B} {a1 a2 : A} {p : a1 = a2}
  {q1 : f a1 = g a1} {q2 : f a2 = g a2}
  : DPath (fun x =&gt; f x = g x) p q1 q2 -&gt; PathSquare q1 q2 (ap f p) (ap g p).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 556
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 557
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 558
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact sq_G1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 559
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 560
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>

Global Instance isequiv_sq_dp {A B : Type} {f g : A -&gt; B} {a1 a2 : A}
  {p : a1 = a2} {q1 : f a1 = g a1} {q2 : f a2 = g a2}
  : IsEquiv (sq_dp (p:=p) (q1:=q1) (q2:=q2)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 564
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 565
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
  destruct p; exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 566
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 567
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* ap2 fits into a square *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 569
Time: 0.004s">
<div class="time" style="width: 1.6129032258065%"></div>
<pre>Definition sq_ap2 {A B C} (f : A -&gt; B -&gt; C)
  {a a' : A} (p : a = a') {b b' : B} (q : b = b')
  : PathSquare (ap (fun x =&gt; f x b) p) (ap (fun x =&gt; f x b') p)
    (ap (f a) q) (ap (f a') q)
  := sq_dp (dp_apD (fun y =&gt; ap (fun x =&gt; f x y) _) _).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 573
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* The function in ap2 can be uncurried *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 575
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>Definition ap_uncurry {A B C} (f : A -&gt; B -&gt; C) {a a' : A} (p : a = a')
  {b b' : B} (q : b = b')
  : PathSquare (ap (uncurry f) (path_prod' p q)) (ap2 f p q) 1 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 577
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 578
Time: 0.004s">
<div class="time" style="width: 1.6129032258065%"></div>
<pre>
  by destruct p, q.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 579
Time: 0.001s">
<div class="time" style="width: 0.40322580645161%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 581
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>



</pre>
</div>
</body>
</html>

