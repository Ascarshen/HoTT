<html>
<head>
<title>PathSquare.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for PathSquare.v</h1>

<div class="code" title="File: PathSquare.v
Line: 1
Time: 0.012s">
<div class="time" style="width: 10.25641025641%"></div>
<pre>Require Import Basics.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 1
Time: 0.013s">
<div class="time" style="width: 11.111111111111%"></div>
<pre>
Require Import Types.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 2
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>
Require Import DPath.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Declare Scope square_scope.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Delimit Scope square_scope with square.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 6
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Unset Elimination Schemes.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 8
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Homogeneous squares *)

(* 
        x00 ----pi0---- x01
         |               |
         |               |
        p0i     ==&gt;     p1i
         |               |
         |               |
        x01-----pi1-----x11
 *)

(* Contents:

  * Definition of PathSquare 
  * Degnerate PathSquares as paths between paths
  * Flipping squares horizontally and vertically
  * PathSquare transpose
  * PathSquare inverse
  * PathSquare rotations
  * Edge rewriting
  * Concatenation
  * Kan fillers
  * natural squares from ap

*)


(* Definition of PathSquare *)
(* PathSquare left right up down *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 39
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>Cumulative Inductive PathSquare {A} : forall a00 {a10 a01 a11 : A},
  a00 = a10 -&gt; a01 = a11 -&gt; a00 = a01 -&gt; a10 = a11 -&gt; Type
  := sq_id : forall {x : A},
    PathSquare x 1 1 1 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 42
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Arguments sq_id {A x}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments PathSquare {A _ _ _ _}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Notation "1" := sq_id : square_scope.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* It seems coq has difficulty actually using these, but destruct seems
   to work fine. TODO: Work out if these are correct. *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 49
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Scheme PathSquare_ind := Induction for PathSquare Sort Type.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 49
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments PathSquare_ind {A} P f {_ _ _ _ _ _ _ _} _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 50
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Scheme PathSquare_rec := Minimality for PathSquare Sort Type.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 51
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments PathSquare_rec {A} P f {_ _ _ _ _ _ _ _} _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* PathSquare_ind is an equivalence, similar to how paths_ind is *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 54
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance isequiv_PathSquare_ind `{Funext} {A}
  (P : forall (a00 a10 a01 a11 : A) (p : a00 = a10) (p0 : a01 = a11)
    (p1 : a00 = a01) (p2 : a10 = a11),
    PathSquare p p0 p1 p2 -&gt; Type) : IsEquiv (PathSquare_ind P).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 57
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 58
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply isequiv_adjointify.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 59
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: intros X ?; apply X.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 60
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  2: intro; reflexivity.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 61
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 62
Time: 0.004s">
<div class="time" style="width: 3.4188034188034%"></div>
<pre>
  do 8 (apply path_forall; intro).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 63
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply path_forall.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 64
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>
  by intros [].</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 65
Time: 0.005s">
<div class="time" style="width: 4.2735042735043%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 66
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* PathSquares can be given by 2-dimensional paths *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 68
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_path {A} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11}
  {p0x : a00 = a01} {p1x : a10 = a11}
  : px0 @ p1x = p0x @ px1 -&gt; PathSquare px0 px1 p0x p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 71
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 72
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct p0x, p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 73
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro e.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 74
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  generalize (e @ concat_1p _).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro e'.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 76
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>
  destruct e', px0.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 77
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact sq_id.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 78
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 79
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>

Global Instance isequiv_sq_path {A} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
: IsEquiv (@sq_path _ _ _ _ _ px0 px1 p0x p1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 83
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 84
Time: 0.004s">
<div class="time" style="width: 3.4188034188034%"></div>
<pre>
  srapply isequiv_adjointify; try by intros [].</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 85
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>
  destruct p0x, p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 86
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros e.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 87
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  pattern e.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  pose (e' := @ e @ concat_1p _).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 89
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  pose (e'' := e' @ (concat_1p _)^).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 90
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (@transport _ _ e'' e _ _).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 92
Time: 0.07s">
<div class="time" style="width: 59.82905982906%"></div>
<pre> subst e' e''; hott_simpl.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 92
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> clearbody e'; clear e.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 93
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>
    destruct e', px0.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 94
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    reflexivity.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 95
Time: 0.005s">
<div class="time" style="width: 4.2735042735043%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 96
Time: 0.003s">
<div class="time" style="width: 2.5641025641026%"></div>
<pre>

Definition equiv_sq_path {A} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11}
  {p0x : a00 = a01} {p1x : a10 = a11}
  : px0 @ p1x = p0x @ px1 &lt;~&gt; PathSquare px0 px1 p0x p1x
  := Build_Equiv _ _ sq_path _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 102
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Squares in (n+2)-truncated types are n-truncated *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 104
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance istrunc_sq n
  {A} `{!IsTrunc n.+2 A} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11}
  {p0x : a00 = a01} {p1x : a10 = a11}
  : IsTrunc n (PathSquare px0 px1 p0x p1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 109
Time: 0.003s">
<div class="time" style="width: 2.5641025641026%"></div>
<pre>
  srapply (trunc_equiv _ sq_path).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 110
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 111
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* We can give degenerate squares *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 113
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section PathSquaresFromPaths.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 113
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* NOTE: These are much easier to prove but stringing them along with
    equivalences is how we get them to be equivalences *)

 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Context
    {A : Type} {a00 a10 a01 : A}
    {p p' : a00 = a10} {q q' : a00 = a01}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 120
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_G1  : p = p' -&gt; PathSquare p p' 1 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 122
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 123
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 124
Time: 0.004s">
<div class="time" style="width: 3.4188034188034%"></div>
<pre>
    by apply sq_path, (equiv_concat_lr (concat_p1 _)^ (concat_1p _))^-1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 125
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 126
Time: 0.039s">
<div class="time" style="width: 33.333333333333%"></div>
<pre>

  Global Instance isequiv_sq_G1 : IsEquiv sq_G1 := _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 128
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition equiv_sq_G1 : p = p' &lt;~&gt; PathSquare p p' 1 1
    := Build_Equiv _ _ sq_G1 _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 131
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_1G : q = q' -&gt; PathSquare 1 1 q q'.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 133
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 134
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 135
Time: 0.004s">
<div class="time" style="width: 3.4188034188034%"></div>
<pre>
    by apply sq_path, (equiv_concat_lr (concat_1p _)^ (concat_p1 _))^-1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 136
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 137
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Global Instance isequiv_sq_1G : IsEquiv sq_G1 := _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 139
Time: 0.046s">
<div class="time" style="width: 39.316239316239%"></div>
<pre>

  Definition equiv_sq_1G : q = q' &lt;~&gt; PathSquare 1 1 q q'
    := Build_Equiv _ _ sq_1G _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 142
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>

End PathSquaresFromPaths.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 144
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* PathSquare horizontal reflexivity *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 146
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_refl_h {A} {a0 a1 : A} (p : a0 = a1)
  : PathSquare p p 1 1 := sq_G1 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 147
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* PathSquare vertical reflexivity *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 149
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_refl_v {A} {a0 a1 : A} (p : a0 = a1)
  : PathSquare 1 1 p p := sq_1G 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 150
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Horizontal flip *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 152
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_flip_h {A : Type} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
  : PathSquare px0 px1 p0x p1x -&gt; PathSquare px1 px0 p0x^ p1x^.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 154
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 155
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct p0x, p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 156
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 157
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  by apply sq_G1, inverse, sq_G1^-1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 158
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 159
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Instance isequiv_sq_flip_h {A : Type} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
  : IsEquiv (sq_flip_h (px0:=px0) (px1:=px1) (p0x:=p0x) (p1x:=p1x)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 164
Time: 0.019s">
<div class="time" style="width: 16.239316239316%"></div>
<pre>
  destruct p0x, p1x; exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 165
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 166
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Vertical flip *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 168
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_flip_v {A : Type} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
  : PathSquare px0 px1 p0x p1x -&gt; PathSquare px0^ px1^ p1x p0x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 170
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 171
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct px0, px1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 172
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 173
Time: 0.047s">
<div class="time" style="width: 40.17094017094%"></div>
<pre>
  by apply sq_1G, inverse, sq_1G^-1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 174
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 175
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Instance isequiv_sq_flip_v {A : Type} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
  : IsEquiv (sq_flip_v (px0:=px0) (px1:=px1) (p0x:=p0x) (p1x:=p1x)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 179
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 180
Time: 0.063s">
<div class="time" style="width: 53.846153846154%"></div>
<pre>
  destruct px0, px1; exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 181
Time: 0.005s">
<div class="time" style="width: 4.2735042735043%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 182
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Transpose of a square *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 184
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_tr {A : Type} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
: PathSquare px0 px1 p0x p1x -&gt; PathSquare p0x p1x px0 px1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 186
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 187
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>
  by intros [].</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 188
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 189
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** [sq_tr] is "involutive" *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 191
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_tr_sq_tr {A : Type} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
  (s : PathSquare px0 px1 p0x p1x) : sq_tr (sq_tr s) = s.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 193
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 194
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
  destruct s.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 195
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 195
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 196
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* NOTE: sq_tr ought to be some sort of involution but it obviously isn't
   since it is not of the form A -&gt; A. Perhaps there is a more general
   "involution" but between equivalent types? But then that very equivalence
   is given by sq_tr so it seems a bit circular... *)

</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section sq_tr_args.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Arguments sq_tr {_ _ _ _ _} _ _ _ _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 203
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Global Instance isequiv_sq_tr {A : Type} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
  : IsEquiv (sq_tr px0 px1 p0x p1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 206
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 207
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply isequiv_adjointify.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 208
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: apply sq_tr.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 209
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1,2: exact sq_tr_sq_tr.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 210
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 211
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
End sq_tr_args.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 212
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition sq_tr_refl_h {A} {a b : A} {p : a = b}
  : sq_tr (sq_refl_h p) = sq_refl_v p.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 216
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  by destruct p.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 217
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 218
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition sq_tr_refl_v {A} {a b : A} {p : a = b}
  : sq_tr (sq_refl_v p) = sq_refl_h p.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 221
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 222
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  by destruct p.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 223
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 224
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Operations on squares *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 226
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section PathSquareOps.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 226
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Context
    {A : Type}
    {a00 a10 a01 a11 : A}
    {px0 : a00 = a10} {px1 : a01 = a11}
    {p0x : a00 = a01} {p1x : a10 = a11}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 232
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* Inverse square *)
 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 235
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_V : PathSquare px0 px1 p0x p1x -&gt; PathSquare px1^ px0^ p1x^ p0x^.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 235
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 236
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 237
Time: 0.003s">
<div class="time" style="width: 2.5641025641026%"></div>
<pre>
    by apply sq_path, (equiv_concat_lr (inv_pp _ _ )^ (inv_pp _ _)),
      inverse2, sq_path^-1, sq_tr.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 239
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 240
Time: 0.113s">
<div class="time" style="width: 96.581196581197%"></div>
<pre>

  Global Instance isequiv_sq_V : IsEquiv sq_V := _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 242
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* Left rotation : left right top bottom  -&gt;  top bottom right left *)
 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 245
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_rot_l : PathSquare px0 px1 p0x p1x -&gt; PathSquare p0x^ p1x^ px1 px0.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 245
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 246
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 247
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>
    by apply sq_path, moveR_Vp, (equiv_concat_r (concat_pp_p _ _ _)),
      moveL_pV, sq_path^-1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 249
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 250
Time: 0.05s">
<div class="time" style="width: 42.735042735043%"></div>
<pre>

  Global Instance isequiv_sq_rot_l : IsEquiv sq_rot_l := _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 252
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* Right rotation : left right top bottom -&gt; bottom top left right *)
 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 255
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_rot_r : PathSquare px0 px1 p0x p1x -&gt; PathSquare p1x p0x px0^ px1^.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 255
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 256
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 257
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>
    by apply sq_path, moveL_Vp, (equiv_concat_l (concat_p_pp _ _ _)),
      moveR_pV, sq_path^-1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 259
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 260
Time: 0.053s">
<div class="time" style="width: 45.299145299145%"></div>
<pre>

  Global Instance isequiv_sq_rot_r : IsEquiv sq_rot_r := _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 262
Time: 0.003s">
<div class="time" style="width: 2.5641025641026%"></div>
<pre>

End PathSquareOps.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 264
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Lemmas for rewriting sides of squares *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 266
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section PathSquareRewriting.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 266
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Context {A : Type}
    {a00 a10 a01 a11 : A}
    {px0 : a00 = a10} {px1 : a01 = a11}
    {p0x : a00 = a01} {p1x : a10 = a11}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 271
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* These are all special cases of the following "rewrite all sides"
     lemma which we prove is an equivalence giving us all special cases
     as equivalences too *)

 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 277
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_GGGG {px0' px1' p0x' p1x'} (qx0 : px0 = px0')
    (qx1 : px1 = px1') (q0x : p0x = p0x') (q1x : p1x = p1x')
    : PathSquare px0 px1 p0x p1x -&gt; PathSquare px0' px1' p0x' p1x'.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 279
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 280
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>
    by destruct qx0, qx1, q0x, q1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 281
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 282
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Global Instance isequiv_sq_GGGG {px0' px1' p0x' p1x'} (qx0 : px0 = px0')
    (qx1 : px1 = px1') (q0x : p0x = p0x') (q1x : p1x = p1x')
    : IsEquiv (sq_GGGG qx0 qx1 q0x q1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 286
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 287
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>
    destruct qx0, qx1, q0x, q1x; exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 288
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 289
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Context {px0' px1' p0x' p1x'}
    (qx0 : px0 = px0') (qx1 : px1 = px1')
    (q0x : p0x = p0x') (q1x : p1x = p1x').</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 293
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_Gccc := sq_GGGG qx0 1 1 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 295
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_cGcc := sq_GGGG 1 qx1 1 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 296
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_ccGc := sq_GGGG 1 1 q0x 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 297
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_cccG := sq_GGGG 1 1 1 q1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 298
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_GGcc := sq_GGGG qx0 qx1 1 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 299
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_GcGc := sq_GGGG qx0 1 q0x 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 300
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_GccG := sq_GGGG qx0 1 1 q1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 301
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_cGGc := sq_GGGG 1 qx1 q0x 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 302
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_cGcG := sq_GGGG 1 qx1 1 q1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 303
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_ccGG := sq_GGGG 1 1 q0x q1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 304
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_GGGc := sq_GGGG qx0 qx1 q0x 1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 305
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition sq_cGGG := sq_GGGG 1 qx1 q0x q1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 306
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>

End PathSquareRewriting.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 308
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Section MovePaths.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 310
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Context {A : Type} {x x00 x20 x02 x22 : A}
  {f10 : x00 = x20} {f12 : x02 = x22} {f01 : x00 = x02} {f21 : x20 = x22}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 312
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (** Operations to move paths around a square. We define all these operations
    immediately as equvialences. 
    The naming first number indicates in which argument the path that moves is 
    on the left of the equivalence, and the second number where it is on the right.
    The equivalences are all set up so that on the right, there is no path inversion.
    For the [24] and [13] equivalences there is a path inverse on the left.
    The corresponding equivalences [42] and [31] are the symmetric versions of these,
    but the path inverse is in another place. *)

 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 322
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_move_23 {f12'' : x02 = x} {f12' : x = x22} 
    : PathSquare f10 (f12'' @ f12') f01 f21 &lt;~&gt; PathSquare f10 f12' (f01 @ f12'') f21.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 323
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 324
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear f12.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 325
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct f12''.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 325
Time: 0.008s">
<div class="time" style="width: 6.8376068376068%"></div>
<pre> 
    srapply Build_Equiv.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 326
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 327
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre> refine (fun s =&gt; sq_ccGc (concat_p1 _)^ (sq_cGcc (concat_1p _) s)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 327
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 328
Time: 0.009s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 328
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 329
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_move_14 {f10'' : x00 = x} {f10' : x = x20} 
    : PathSquare (f10'' @ f10') f12 f01 f21 &lt;~&gt; PathSquare f10'' f12 f01 (f10' @ f21).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 332
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 333
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear f10.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 334
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct f10'.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 334
Time: 0.011s">
<div class="time" style="width: 9.4017094017094%"></div>
<pre> 
    srapply Build_Equiv.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 335
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 336
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre> refine (fun s =&gt; sq_cccG (concat_1p _)^ (sq_Gccc (concat_p1 _) s)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 336
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 337
Time: 0.009s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 337
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 338
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_move_24 {f12'' : x02 = x} {f12' : x22 = x} 
    : PathSquare f10 (f12'' @ f12'^) f01 f21 &lt;~&gt; PathSquare f10 f12'' f01 (f21 @ f12').</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 341
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 342
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear f12.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 343
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct f12'.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 343
Time: 0.008s">
<div class="time" style="width: 6.8376068376068%"></div>
<pre> 
    srapply Build_Equiv.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 344
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 345
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre> refine (fun s =&gt; sq_cccG (concat_p1 _)^ (sq_cGcc (concat_p1 _) s)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 345
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 346
Time: 0.009s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 346
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 347
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_move_42 {f12'' : x02 = x} {f12' : x = x22} 
    : PathSquare f10 f12'' f01 (f21 @ f12'^) &lt;~&gt; PathSquare f10 (f12'' @ f12') f01 f21.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 350
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 351
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear f12.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 352
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct f12'.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 352
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
    symmetry.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 353
Time: 0.008s">
<div class="time" style="width: 6.8376068376068%"></div>
<pre>
    srapply Build_Equiv.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 354
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 355
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre> refine (fun s =&gt; sq_cccG (concat_p1 _)^ (sq_cGcc (concat_p1 _) s)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 355
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 356
Time: 0.009s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 356
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 357
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_move_13 {f10'' : x = x00} {f10' : x = x20} 
    : PathSquare (f10''^ @ f10') f12 f01 f21 &lt;~&gt; PathSquare f10' f12 (f10'' @ f01) f21.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 360
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 361
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear f10.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 362
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct f10''.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 362
Time: 0.012s">
<div class="time" style="width: 10.25641025641%"></div>
<pre> 
    srapply Build_Equiv.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 363
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 364
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre> refine (fun s =&gt; sq_ccGc (concat_1p _)^ (sq_Gccc (concat_1p _) s)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 364
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 365
Time: 0.009s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 365
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 366
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_move_31 {f10'' : x00 = x} {f10' : x = x20} 
    : PathSquare f10' f12 (f10''^ @ f01) f21 &lt;~&gt; PathSquare (f10'' @ f10') f12 f01 f21.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 369
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 370
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear f10.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 371
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct f10''.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 371
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
    symmetry.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 372
Time: 0.016s">
<div class="time" style="width: 13.675213675214%"></div>
<pre>
    refine (Build_Equiv _ _ (fun s =&gt; sq_ccGc (concat_1p _)^ (sq_Gccc (concat_1p _) s)) _).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 373
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 374
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>

End MovePaths.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 376
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Section DPathPathSquare.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 378
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* An alternative equivalent definition for PathSquares in terms of
     DPaths. This is the original one Mike had written. *)

 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 383
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Context {A} {a00 a10 a01 a11 : A}
    {px0 : a00 = a10} {px1 : a01 = a11}
    {p0x : a00 = a01} {p1x : a10 = a11}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 385
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* Depdent path product definition of PathSquare *)
 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 388
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_dp_prod : DPath (fun xy =&gt; fst xy = snd xy)
    (path_prod' p0x p1x) px0 px1 -&gt; PathSquare px0 px1 p0x p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 389
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 390
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 391
Time: 0.006s">
<div class="time" style="width: 5.1282051282051%"></div>
<pre>
    set (p := (dp_paths_FlFr _ _ _)^-1 X).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 392
Time: 0.005s">
<div class="time" style="width: 4.2735042735043%"></div>
<pre>
    apply (equiv_concat_l (concat_pp_p _ _ _) _)^-1,
      moveL_Mp, sq_path in p.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 394
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>
    exact (sq_ccGG (ap_fst_path_prod _ _) (ap_snd_path_prod _ _) p).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 395
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 396
Time: 0.117s">
<div class="time" style="width: 100%"></div>
<pre>

  Global Instance isequiv_sq_dpath_prod : IsEquiv sq_dp_prod := _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 398
Time: 0.005s">
<div class="time" style="width: 4.2735042735043%"></div>
<pre>

End DPathPathSquare.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 400
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Concatenation of squares *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 402
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section PathSquareConcat.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 402
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Context {A : Type} {a00 a10 a01 a11 : A}
    {px0 : a00 = a10} {px1 : a01 = a11}
    {p0x : a00 = a01} {p1x : a10 = a11}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 406
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* Horizontal concatenation of squares *)
 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 409
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_concat_h  {a02 a12 : A}
    {p0y : a01 = a02} {p1y : a11 = a12} {px2 : a02 = a12}
    : PathSquare px0 px1 p0x p1x -&gt; PathSquare px1 px2 p0y p1y
      -&gt; PathSquare px0 px2 (p0x @ p0y) (p1x @ p1y).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 412
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 413
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros a b.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 414
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>
    destruct b.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 415
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (sq_ccGG _ _ a).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 416
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    1,2: apply inverse, concat_p1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 417
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 418
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* Vertical concatenation of squares *)
 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 421
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_concat_v {a20 a21 : A}
    {py0 : a10 = a20} {py1 : a11 = a21} {p2x : a20 = a21}
    : PathSquare px0 px1 p0x p1x -&gt; PathSquare py0 py1 p1x p2x
      -&gt; PathSquare (px0 @ py0) (px1 @ py1) p0x p2x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 424
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 425
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros a b.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 426
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>
    destruct b.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 427
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (sq_GGcc _ _ a).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 428
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    1,2: apply inverse, concat_p1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 429
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 430
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

End PathSquareConcat.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 432
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Notations for horizontal and vertical concatenation *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 434
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Infix "@h" := sq_concat_h (at level 10) : square_scope.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 434
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Infix "@v" := sq_concat_v (at level 10) : square_scope.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 435
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Horizontal groupoid laws for concatenation *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 437
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section GroupoidLawsH.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 437
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* There are many more laws to write, but it seems we don't really need them *)

 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 441
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Context
    {A : Type}
    {a00 a10 a01 a11 a02 a12 a20 a21 a03 a13 : A} {px0 : a00 = a10}
    {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
    {px2 : a02 = a12} {p0y : a01 = a02} {p1y : a11 = a12}
    {px3 : a03 = a13} {p0z : a02 = a03} {p1z : a12 = a13}
    (s : PathSquare px0 px1 p0x p1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 447
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Open Scope square_scope.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 449
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Notation hr := (sq_refl_h _).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 450
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>

  Definition sq_concat_h_s1 : s @h hr = sq_ccGG (concat_p1 _)^ (concat_p1 _)^ s.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 452
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 453
Time: 0.004s">
<div class="time" style="width: 3.4188034188034%"></div>
<pre>
    by destruct s.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 454
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 455
Time: 0.003s">
<div class="time" style="width: 2.5641025641026%"></div>
<pre>

  Definition sq_concat_h_1s : hr @h s = sq_ccGG (concat_1p _)^ (concat_1p _)^ s.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 457
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 458
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>
    by destruct s.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 459
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 460
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Context (t : PathSquare px1 px2 p0y p1y) (u : PathSquare px2 px3 p0z p1z).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 462
Time: 0.003s">
<div class="time" style="width: 2.5641025641026%"></div>
<pre>

  Definition sq_concat_h_ss_s : (s @h t) @h u
    = sq_ccGG (concat_p_pp _ _ _) (concat_p_pp _ _ _) (s @h (t @h u)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 465
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 466
Time: 0.07s">
<div class="time" style="width: 59.82905982906%"></div>
<pre>
    by destruct s, u, (sq_1G^-1 t), p0y.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 467
Time: 0.003s">
<div class="time" style="width: 2.5641025641026%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 468
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>

End GroupoidLawsH.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 470
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* PathSquare Kan fillers ~ Every open box has a lid *)

</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 473
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section Kan.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 473
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* These can be used to prove groupoid laws about paths *)
 </pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 476
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Context {A : Type} {a00 a10 a01 a11 : A}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 476
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_fill_l (px1 : a01 = a11) (p0x : a00 = a01) (p1x : a10 = a11)
    : {px0 : a00 = a10 &amp; PathSquare px0 px1 p0x p1x}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 479
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 480
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists (p0x @ px1 @ p1x^).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 481
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>
    by destruct px1, p0x, p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 482
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 483
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_fill_r (px0 : a00 = a10) (p0x : a00 = a01) (p1x : a10 = a11)
    : {px1 : a01 = a11 &amp; PathSquare px0 px1 p0x p1x}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 486
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 487
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists (p0x^ @ px0 @ p1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 488
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>
    by destruct px0, p0x, p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 489
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 490
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_fill_t (px0 : a00 = a10) (px1 : a01 = a11) (p1x : a10 = a11)
    : {p0x : a00 = a01 &amp; PathSquare px0 px1 p0x p1x}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 493
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 494
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists (px0 @ p1x @ px1^).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 495
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>
    by destruct px0, px1, p1x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 496
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 497
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition sq_fill_b (px0 : a00 = a10) (px1 : a01 = a11) (p0x : a00 = a01)
    : {p1x : a10 = a11 &amp; PathSquare px0 px1 p0x p1x}.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 500
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 501
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists (px0^ @ p0x @ px1).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 502
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>
    by destruct px0, px1, p0x.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 503
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 504
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

End Kan.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 506
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Apply a function to the sides of square *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 508
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_ap {A B : Type} {a00 a10 a01 a11 : A} (f : A -&gt; B)
  {px0 : a00 = a10} {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11}
  : PathSquare px0 px1 p0x p1x -&gt; PathSquare (ap f px0) (ap f px1) (ap f p0x) (ap f p1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 510
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 511
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>
  by intros [].</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 512
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 513
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** This preserves reflexivity *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 515
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_ap_refl_h {A B} (f : A -&gt; B) {a0 a1 : A} (p : a0 = a1)
  : sq_ap f (sq_refl_h p) = sq_refl_h (ap f p).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 516
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 517
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  by destruct p.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 518
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 519
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition sq_ap_refl_v {A B} (f : A -&gt; B) {a0 a1 : A} (p : a0 = a1)
  : sq_ap f (sq_refl_v p) = sq_refl_v (ap f p).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 522
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 523
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  by destruct p.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 524
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 525
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Curried version of the following equivalence *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 527
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>Definition sq_prod {A B : Type} {a00 a10 a01 a11 : A} {px0 : a00 = a10}
  {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11} {b00 b10 b01 b11 : B}
  {qx0 : b00 = b10} {qx1 : b01 = b11} {q0x : b00 = b01} {q1x : b10 = b11}
  : PathSquare px0 px1 p0x p1x -&gt; PathSquare qx0 qx1 q0x q1x
    -&gt; PathSquare (path_prod' px0 qx0) (path_prod' px1 qx1)
        (path_prod' p0x q0x) (path_prod' p1x q1x).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 532
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 533
Time: 0.004s">
<div class="time" style="width: 3.4188034188034%"></div>
<pre>
  by intros [] [].</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 534
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 535
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(*
(* PathSquares respect products *)
(* TODO: Finish this: we ought to have some sort of eta for sq_prod
   that might help *)
Definition equiv_sq_prod {A B : Type} {a00 a10 a01 a11 : A} {px0 : a00 = a10}
  {px1 : a01 = a11} {p0x : a00 = a01} {p1x : a10 = a11} {b00 b10 b01 b11 : B}
  {qx0 : b00 = b10} {qx1 : b01 = b11} {q0x : b00 = b01} {q1x : b10 = b11}
  : (PathSquare px0 px1 p0x p1x) * (PathSquare qx0 qx1 q0x q1x)
    &lt;~&gt; PathSquare (path_prod' px0 qx0) (path_prod' px1 qx1)
        (path_prod' p0x q0x) (path_prod' p1x q1x).
Proof.
  srapply equiv_adjointify.
  1: apply uncurry, sq_prod.
  { intro c.
    destruct p1x, q1x, p0x, q0x.
    apply sq_G1^-1 in c.
    set (f := ap (ap fst) c); clearbody f.
    set (s := ap (ap snd) c); clearbody s.
    destruct ((ap_fst_path_prod _ _)^ @ ap (ap fst) c @ ap_fst_path_prod _ _).
    destruct ((ap_snd_path_prod _ _)^ @ ap (ap snd) c @ ap_snd_path_prod _ _).
    split.
    1,2: apply sq_refl_h. }
  { intro c.
    set (s1 := sq_GGGG (ap_fst_path_prod _ _) (ap_fst_path_prod _ _)
      (ap_fst_path_prod _ _) (ap_fst_path_prod _ _) (sq_ap fst c)).
    set (s2 := sq_GGGG (ap_snd_path_prod _ _) (ap_snd_path_prod _ _)
      (ap_snd_path_prod _ _) (ap_snd_path_prod _ _) (sq_ap snd c)).
    admit. }
  by intros [[] []].
Admitted. *)

(* The natural square from an ap *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 568
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition ap_nat {A B} {f f' : A -&gt; B} (h : f == f') {x y : A} (p : x = y)
  : PathSquare (ap f p) (ap f' p) (h x) (h y).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 569
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 570
Time: 0.004s">
<div class="time" style="width: 3.4188034188034%"></div>
<pre>
  by destruct p; apply sq_1G.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 571
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 572
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* The transpose of the natural square *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 574
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition ap_nat' {A B} {f f' : A -&gt; B} (h : f == f') {x y : A} (p : x = y)
  : PathSquare (h x) (h y) (ap f p) (ap f' p).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 575
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 576
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  by destruct p; apply sq_G1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 577
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 578
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* ap_compose fits naturally into a square *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 580
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>Definition ap_compose_sq {A B C} (f : A -&gt; B) (g : B -&gt; C) {x y : A} (p : x = y)
  : PathSquare (ap (g o f) p) (ap g (ap f p)) 1 1 := sq_G1 (ap_compose f g p).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 581
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition ap_idmap_sq {A} {x y : A} (p : x = y) : PathSquare (ap idmap p) p 1 1
  := sq_G1 (ap_idmap p).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 584
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* A DPath of a certain form can be turned into a square *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 586
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition sq_dp {A B : Type} {f g : A -&gt; B} {a1 a2 : A} {p : a1 = a2}
  {q1 : f a1 = g a1} {q2 : f a2 = g a2}
  : DPath (fun x =&gt; f x = g x) p q1 q2 -&gt; PathSquare q1 q2 (ap f p) (ap g p).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 588
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 589
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 590
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact sq_G1.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 591
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 592
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Instance isequiv_sq_dp {A B : Type} {f g : A -&gt; B} {a1 a2 : A}
  {p : a1 = a2} {q1 : f a1 = g a1} {q2 : f a2 = g a2}
  : IsEquiv (sq_dp (p:=p) (q1:=q1) (q2:=q2)).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 596
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 597
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>
  destruct p; exact _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 598
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 599
Time: 0.001s">
<div class="time" style="width: 0.85470085470085%"></div>
<pre>

Definition equiv_sq_dp {A B : Type} (f g : A -&gt; B) {a1 a2 : A} (p : a1 = a2)
  (q1 : f a1 = g a1) (q2 : f a2 = g a2)
  : DPath (fun x =&gt; f x = g x) p q1 q2 &lt;~&gt; PathSquare q1 q2 (ap f p) (ap g p)
  := Build_Equiv _ _ (@sq_dp A B f g a1 a2 p q1 q2) _.</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 604
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* ap011 fits into a square *)</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 606
Time: 0.002s">
<div class="time" style="width: 1.7094017094017%"></div>
<pre>Definition sq_ap011 {A B C} (f : A -&gt; B -&gt; C)
  {a a' : A} (p : a = a') {b b' : B} (q : b = b')
  : PathSquare (ap (fun x =&gt; f x b) p) (ap (fun x =&gt; f x b') p)
    (ap (f a) q) (ap (f a') q)
  := sq_dp (dp_apD (fun y =&gt; ap (fun x =&gt; f x y) _) _).</pre>
</div>
<div class="code" title="File: PathSquare.v
Line: 611
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>


</pre>
</div>
</body>
</html>

