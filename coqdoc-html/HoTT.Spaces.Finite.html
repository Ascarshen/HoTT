<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>HoTT.Spaces.Finite</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library HoTT.Spaces.Finite</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="HoTT.Basics.html#"><span class="id" title="library">Basics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="HoTT.Types.html#"><span class="id" title="library">Types</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="HoTT.HSet.html#"><span class="id" title="library">HSet</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="HoTT.HProp.html#"><span class="id" title="library">HProp</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="HoTT.DProp.html#"><span class="id" title="library">DProp</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="HoTT.Spaces.Nat.html#"><span class="id" title="library">Spaces.Nat</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="HoTT.HFiber.html#"><span class="id" title="library">HFiber</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="HoTT.Factorization.html#"><span class="id" title="library">Factorization</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="HoTT.Equiv.PathSplit.html#"><span class="id" title="library">Equiv.PathSplit</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="HoTT.Truncations.html#"><span class="id" title="library">Truncations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="HoTT.Colimits.Quotient.html#"><span class="id" title="library">Colimits.Quotient</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">path_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab219"></a><h1 class="section">Finite sets</h1>

<div class="paragraph"> </div>

<a name="lab220"></a><h2 class="section">Canonical finite sets</h2>

<div class="paragraph"> </div>

 A *finite set* is a type that is merely equivalent to the canonical finite set determined by some natural number.  There are many equivalent ways to define the canonical finite sets, such as <span class="inlinecode">{</span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="HoTT.Tests.html#Issue754_1.nat"><span class="id" title="inductive">nat</span></a></span> <span class="inlinecode">&amp;</span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode">&lt;</span> <span class="inlinecode"><span class="id" title="var">n</span>}</span>; we instead choose a recursive one. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="Fin"><span class="id" title="definition">Fin</span></a> (<a name="n:1"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="HoTT.Spaces.Finite.html#n:1"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="HoTT.Basics.Overture.html#Empty"><span class="id" title="inductive">Empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#Fin:2"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:1"><span class="id" title="variable">n</span></a> <a class="idref" href="Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="decidable_fin"><span class="id" title="instance">decidable_fin</span></a> (<a name="n:4"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
: <a class="idref" href="HoTT.Basics.Decidable.html#Decidable"><span class="id" title="class">Decidable</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:4"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="decidablepaths_fin"><span class="id" title="instance">decidablepaths_fin</span></a> (<a name="n:5"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
: <a class="idref" href="HoTT.Basics.Decidable.html#DecidablePaths"><span class="id" title="class">DecidablePaths</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:5"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="contr_fin1"><span class="id" title="instance">contr_fin1</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#Contr"><span class="id" title="abbreviation">Contr</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> 1).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#contr_equiv'"><span class="id" title="definition">contr_equiv'</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a> <a class="idref" href="HoTT.Basics.Equivalences.html#76214fa316f18d720833e810bbfd71fb"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Sum.html#sum_empty_l"><span class="id" title="definition">sum_empty_l</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a><a class="idref" href="HoTT.Basics.Equivalences.html#76214fa316f18d720833e810bbfd71fb"><span class="id" title="notation">)^-1</span></a>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fin_empty"><span class="id" title="definition">fin_empty</span></a> (<a name="n:6"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a name="f:7"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:6"><span class="id" title="variable">n</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Empty"><span class="id" title="inductive">Empty</span></a>) : <a class="idref" href="HoTT.Spaces.Finite.html#n:6"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; [ <span class="id" title="tactic">reflexivity</span> | ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<span class="id" title="var">f</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The zeroth element of a non-empty finite set is the left most element. It also happens to be the biggest by termsize. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="fin_zero"><span class="id" title="definition">fin_zero</span></a> {<a name="n:8"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:8"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="HoTT.Spaces.Finite.html#n:8"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span> ⇒ <a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fin_zero:9"><span class="id" title="definition">fin_zero</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Where `fin_zero` computes the first element of Fin (S n), `fin_last` computes the last. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="fin_last"><span class="id" title="definition">fin_last</span></a> {<a name="n:11"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:11"><span class="id" title="variable">n</span></a>) := <a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>.<br/>

<br/>
</div>

<div class="doc">
Injection Fin n -&gt; Fin n.+1 mapping the kth element to the kth element. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="fin_incl"><span class="id" title="definition">fin_incl</span></a> {<a name="n:12"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} (<a name="k:13"><span class="id" title="binder">k</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:12"><span class="id" title="variable">n</span></a>) : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:12"><span class="id" title="variable">n</span></a>) := <a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:13"><span class="id" title="variable">k</span></a>.<br/>

<br/>
</div>

<div class="doc">
There is an injection from Fin n -&gt; Fin n.+1 that maps the kth element to the (k+1)th element. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="fsucc"><span class="id" title="definition">fsucc</span></a> {<a name="n:14"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:14"><span class="id" title="variable">n</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:14"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="HoTT.Spaces.Finite.html#n:14"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="HoTT.Types.Empty.html#Empty_rec"><span class="id" title="lemma">Empty_rec</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a name="i:17"><span class="id" title="binder">i</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="HoTT.Spaces.Finite.html#i:17"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">i'</span> ⇒ <a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#fsucc:15"><span class="id" title="definition">fsucc</span></a> <span class="id" title="var">i'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a> ⇒ <a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
This injection is an injection/embedding 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="isembedding_fsucc"><span class="id" title="lemma">isembedding_fsucc</span></a> {<a name="n:19"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} : <a class="idref" href="HoTT.Basics.Trunc.html#IsEmbedding"><span class="id" title="abbreviation">IsEmbedding</span></a> (@<a class="idref" href="HoTT.Spaces.Finite.html#fsucc"><span class="id" title="definition">fsucc</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:19"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.HSet.html#isembedding_isinj_hset"><span class="id" title="lemma">isembedding_isinj_hset</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">elim</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [] []; <span class="id" title="tactic">intro</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">f_ap</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="HoTT.Types.Sum.html#path_sum_inl"><span class="id" title="definition">path_sum_inl</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>. <span class="id" title="tactic">elim</span> (<a class="idref" href="HoTT.Types.Sum.html#inl_ne_inr"><span class="id" title="definition">inl_ne_inr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>. <span class="id" title="tactic">elim</span> (<a class="idref" href="HoTT.Types.Sum.html#inr_ne_inl"><span class="id" title="definition">inr_ne_inl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>, <span class="id" title="var">u0</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab221"></a><h2 class="section">Transposition equivalences</h2>

<div class="paragraph"> </div>

 To prove some basic facts about canonical finite sets, we need some standard automorphisms of them.  Here we define some transpositions and prove that they in fact do the desired things. 
<div class="paragraph"> </div>

<a name="lab222"></a><h3 class="section">Swap the last two elements.</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="fin_transpose_last_two"><span class="id" title="definition">fin_transpose_last_two</span></a> (<a name="n:20"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:20"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bc63483175fac06bcd5541a5e9093b18"><span class="id" title="notation">.+2</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:20"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bc63483175fac06bcd5541a5e9093b18"><span class="id" title="notation">.+2</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Basics.Equivalences.html#76214fa316f18d720833e810bbfd71fb"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Sum.html#equiv_sum_assoc"><span class="id" title="definition">equiv_sum_assoc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="HoTT.Basics.Equivalences.html#76214fa316f18d720833e810bbfd71fb"><span class="id" title="notation">)^-1</span></a><a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">oE</span></a> <a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">(</span></a>1 <a class="idref" href="HoTT.Types.Sum.html#6f316eb0e72edafd90fcf935afd7e126"><span class="id" title="notation">+</span></a><a class="idref" href="HoTT.Types.Sum.html#6f316eb0e72edafd90fcf935afd7e126"><span class="id" title="notation">E</span></a> <a class="idref" href="HoTT.Types.Sum.html#6f316eb0e72edafd90fcf935afd7e126"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Sum.html#equiv_sum_symm"><span class="id" title="definition">equiv_sum_symm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="HoTT.Types.Sum.html#6f316eb0e72edafd90fcf935afd7e126"><span class="id" title="notation">)</span></a><a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">oE</span></a> <a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Sum.html#equiv_sum_assoc"><span class="id" title="definition">equiv_sum_assoc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_two"><span class="id" title="definition">fin_transpose_last_two</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">nomatch</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fin_transpose_last_two_last"><span class="id" title="definition">fin_transpose_last_two_last</span></a> (<a name="n:21"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_two"><span class="id" title="definition">fin_transpose_last_two</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:21"><span class="id" title="variable">n</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;:= 1.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fin_transpose_last_two_nextlast"><span class="id" title="definition">fin_transpose_last_two_nextlast</span></a> (<a name="n:22"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_two"><span class="id" title="definition">fin_transpose_last_two</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:22"><span class="id" title="variable">n</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>)) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;:= 1.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fin_transpose_last_two_rest"><span class="id" title="definition">fin_transpose_last_two_rest</span></a> (<a name="n:23"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a name="k:24"><span class="id" title="binder">k</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:23"><span class="id" title="variable">n</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_two"><span class="id" title="definition">fin_transpose_last_two</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:23"><span class="id" title="variable">n</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:24"><span class="id" title="variable">k</span></a>)) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:24"><span class="id" title="variable">k</span></a>)<a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;:= 1.<br/>

<br/>
</div>

<div class="doc">
<a name="lab223"></a><h3 class="section">Swap the last element with <span class="inlinecode"><span class="id" title="var">k</span></span>.</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="fin_transpose_last_with"><span class="id" title="definition">fin_transpose_last_with</span></a> (<a name="n:25"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a name="k:26"><span class="id" title="binder">k</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:25"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:25"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:25"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span>|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">elim</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_two"><span class="id" title="definition">fin_transpose_last_two</span></a> <span class="id" title="var">n</span><a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">oE</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">oE</span></a> <a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_two"><span class="id" title="definition">fin_transpose_last_two</span></a> <span class="id" title="var">n</span><a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Types.Sum.html#6f316eb0e72edafd90fcf935afd7e126"><span class="id" title="notation">(</span></a><span class="id" title="var">fin_transpose_last_with</span> <span class="id" title="var">n</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">k</span>)<a class="idref" href="HoTT.Types.Sum.html#6f316eb0e72edafd90fcf935afd7e126"><span class="id" title="notation">)</span></a> <a class="idref" href="HoTT.Types.Sum.html#6f316eb0e72edafd90fcf935afd7e126"><span class="id" title="notation">+</span></a><a class="idref" href="HoTT.Types.Sum.html#6f316eb0e72edafd90fcf935afd7e126"><span class="id" title="notation">E</span></a> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_two"><span class="id" title="definition">fin_transpose_last_two</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_idmap"><span class="id" title="definition">equiv_idmap</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with"><span class="id" title="definition">fin_transpose_last_with</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">nomatch</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fin_transpose_last_with_last"><span class="id" title="definition">fin_transpose_last_with_last</span></a> (<a name="n:28"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a name="k:29"><span class="id" title="binder">k</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:28"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with"><span class="id" title="definition">fin_transpose_last_with</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:28"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:29"><span class="id" title="variable">k</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:29"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span>|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">elim</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a>, <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a>, <a class="idref" href="HoTT.Basics.Contractible.html#path_contr"><span class="id" title="definition">path_contr</span></a>.<br/>
&nbsp;&nbsp;- </div>

<div class="doc">
We have to destruct <span class="inlinecode"><span class="id" title="var">n</span></span> since fixpoints don't reduce unless their argument is a constructor. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a>, <a class="idref" href="HoTT.Basics.Contractible.html#path_contr"><span class="id" title="definition">path_contr</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fin_transpose_last_with_with"><span class="id" title="definition">fin_transpose_last_with_with</span></a> (<a name="n:30"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a name="k:31"><span class="id" title="binder">k</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:30"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with"><span class="id" title="definition">fin_transpose_last_with</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:30"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:31"><span class="id" title="variable">k</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:31"><span class="id" title="variable">k</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span>|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">elim</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">k</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a>, <a class="idref" href="HoTT.Basics.Contractible.html#path_contr"><span class="id" title="definition">path_contr</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a>, <a class="idref" href="HoTT.Basics.Contractible.html#path_contr"><span class="id" title="definition">path_contr</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fin_transpose_last_with_rest"><span class="id" title="definition">fin_transpose_last_with_rest</span></a> (<a name="n:32"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="k:33"><span class="id" title="binder">k</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:32"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>) (<a name="l:34"><span class="id" title="binder">l</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:32"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="notk:35"><span class="id" title="binder">notk</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#k:33"><span class="id" title="variable">k</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#l:34"><span class="id" title="variable">l</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with"><span class="id" title="definition">fin_transpose_last_with</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:32"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:33"><span class="id" title="variable">k</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#l:34"><span class="id" title="variable">l</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#l:34"><span class="id" title="variable">l</span></a><a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span>|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">elim</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span>|]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span>|]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <a name="p:37"><span class="id" title="binder">p</span></a> ⇒ <span class="id" title="var">notk</span> (<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a> <a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#p:36"><span class="id" title="variable">p</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span>|]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">elim</span> (<span class="id" title="var">notk</span> (<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a> <a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a> <a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="HoTT.Types.Unit.html#path_unit"><span class="id" title="definition">path_unit</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)))). }<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fin_transpose_last_with_last_other"><span class="id" title="definition">fin_transpose_last_with_last_other</span></a> (<a name="n:38"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a name="k:39"><span class="id" title="binder">k</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:38"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with"><span class="id" title="definition">fin_transpose_last_with</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:38"><span class="id" title="variable">n</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="HoTT.Spaces.Finite.html#k:39"><span class="id" title="variable">k</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:39"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fin_transpose_last_with_invol"><span class="id" title="definition">fin_transpose_last_with_invol</span></a> (<a name="n:40"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a name="k:41"><span class="id" title="binder">k</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:40"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with"><span class="id" title="definition">fin_transpose_last_with</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:40"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:41"><span class="id" title="variable">k</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with"><span class="id" title="definition">fin_transpose_last_with</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:40"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:41"><span class="id" title="variable">k</span></a> <a class="idref" href="HoTT.Basics.Overture.html#2596316c6f2ff161cb03e25fd8914390"><span class="id" title="notation">==</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" title="abbreviation">idmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span>|[]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span>|[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> (<a class="idref" href="HoTT.Basics.Decidable.html#dec_paths"><span class="id" title="definition">dec_paths</span></a> <span class="id" title="var">k</span> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span>|<span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_with"><span class="id" title="definition">fin_transpose_last_with_with</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_last"><span class="id" title="definition">fin_transpose_last_with_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_rest"><span class="id" title="definition">fin_transpose_last_with_rest</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_rest"><span class="id" title="definition">fin_transpose_last_with_rest</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <a name="q:44"><span class="id" title="binder">q</span></a> ⇒ <span class="id" title="var">p</span> (<a class="idref" href="HoTT.Types.Sum.html#path_sum_inl"><span class="id" title="definition">path_sum_inl</span></a> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Spaces.Finite.html#q:42"><span class="id" title="variable">q</span></a>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_last_other"><span class="id" title="definition">fin_transpose_last_with_last_other</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_last_other"><span class="id" title="definition">fin_transpose_last_with_last_other</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_last"><span class="id" title="definition">fin_transpose_last_with_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_with"><span class="id" title="definition">fin_transpose_last_with_with</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab224"></a><h2 class="section">Equivalences between canonical finite sets</h2>

<div class="paragraph"> </div>

 To give an equivalence <span class="inlinecode"><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span>.+1</span> <span class="inlinecode">&lt;~&gt;</span> <span class="inlinecode"><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Categories.Functor.Attributes.html#fully_faithful_helpers.m"><span class="id" title="variable">m</span></a>.+1</span> is equivalent to giving an element of <span class="inlinecode"><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Categories.Functor.Attributes.html#fully_faithful_helpers.m"><span class="id" title="variable">m</span></a>.+1</span> (the image of the last element) together with an equivalence <span class="inlinecode"><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">&lt;~&gt;</span> <span class="inlinecode"><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Categories.Functor.Attributes.html#fully_faithful_helpers.m"><span class="id" title="variable">m</span></a></span>.  More specifically, any such equivalence can be decomposed uniquely as a last-element transposition followed by an equivalence fixing the last element.  
<div class="paragraph"> </div>

 Here is the uncurried map that constructs an equivalence <span class="inlinecode"><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span>.+1</span> <span class="inlinecode">&lt;~&gt;</span> <span class="inlinecode"><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Categories.Functor.Attributes.html#fully_faithful_helpers.m"><span class="id" title="variable">m</span></a>.+1</span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="fin_equiv"><span class="id" title="definition">fin_equiv</span></a> (<a name="n:45"><span class="id" title="binder">n</span></a> <a name="m:46"><span class="id" title="binder">m</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="k:47"><span class="id" title="binder">k</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:46"><span class="id" title="variable">m</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>) (<a name="e:48"><span class="id" title="binder">e</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:45"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:46"><span class="id" title="variable">m</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:45"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:46"><span class="id" title="variable">m</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with"><span class="id" title="definition">fin_transpose_last_with</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:46"><span class="id" title="variable">m</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:47"><span class="id" title="variable">k</span></a><a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">oE</span></a> <a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#e:48"><span class="id" title="variable">e</span></a> <a class="idref" href="HoTT.Types.Sum.html#6f316eb0e72edafd90fcf935afd7e126"><span class="id" title="notation">+</span></a><a class="idref" href="HoTT.Types.Sum.html#6f316eb0e72edafd90fcf935afd7e126"><span class="id" title="notation">E</span></a> 1<a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
Here is the curried version that we will prove to be an equivalence. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="fin_equiv'"><span class="id" title="definition">fin_equiv'</span></a> (<a name="n:49"><span class="id" title="binder">n</span></a> <a name="m:50"><span class="id" title="binder">m</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
: <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:50"><span class="id" title="variable">m</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a><a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:49"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:50"><span class="id" title="variable">m</span></a><a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a><a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:49"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:50"><span class="id" title="variable">m</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a><a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a name="ke:51"><span class="id" title="binder">ke</span></a> ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv"><span class="id" title="definition">fin_equiv</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:49"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:50"><span class="id" title="variable">m</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#fst"><span class="id" title="projection">fst</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#ke:51"><span class="id" title="variable">ke</span></a>) (<a class="idref" href="Coq.Init.Datatypes.html#snd"><span class="id" title="projection">snd</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#ke:51"><span class="id" title="variable">ke</span></a>).<br/>

<br/>
</div>

<div class="doc">
We construct its inverse and the two homotopies first as versions using homotopies without funext (similar to <span class="inlinecode"><a class="idref" href="HoTT.Extensions.html#ExtendableAlong"><span class="id" title="definition">ExtendableAlong</span></a></span>), then apply funext at the end. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="fin_equiv_hfiber"><span class="id" title="definition">fin_equiv_hfiber</span></a> (<a name="n:52"><span class="id" title="binder">n</span></a> <a name="m:53"><span class="id" title="binder">m</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a name="e:54"><span class="id" title="binder">e</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:52"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:53"><span class="id" title="variable">m</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>)<br/>
: <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a> <a name="kf:55"><span class="id" title="binder">kf</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a> <a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:53"><span class="id" title="variable">m</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a><a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:52"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:53"><span class="id" title="variable">m</span></a><a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv'"><span class="id" title="definition">fin_equiv'</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:52"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:53"><span class="id" title="variable">m</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#kf:55"><span class="id" title="variable">kf</span></a> <a class="idref" href="HoTT.Basics.Overture.html#2596316c6f2ff161cb03e25fd8914390"><span class="id" title="notation">==</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#e:54"><span class="id" title="variable">e</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Types.Sigma.html#equiv_sigma_prod"><span class="id" title="definition">equiv_sigma_prod</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">recall</span> (<span class="id" title="var">e</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">y</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">p'</span> := <a class="idref" href="HoTT.Basics.Overture.html#6bc2e8b4a6e295632a90f5f35132db8d"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Basics.Equivalences.html#moveL_equiv_V"><span class="id" title="definition">moveL_equiv_V</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#6bc2e8b4a6e295632a90f5f35132db8d"><span class="id" title="notation">)^</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span>|[]].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> <a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Sum.html#equiv_unfunctor_sum_l"><span class="id" title="definition">equiv_unfunctor_sum_l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with"><span class="id" title="definition">fin_transpose_last_with</span></a> <span class="id" title="var">m</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">y</span>) <a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">oE</span></a> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="var">ev_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">q</span> : <a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">y</span> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">e</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <a name="z:57"><span class="id" title="binder">z</span></a> ⇒ <a class="idref" href="HoTT.Types.Sum.html#inl_ne_inr"><span class="id" title="definition">inl_ne_inr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_inj"><span class="id" title="definition">equiv_inj</span></a> <span class="id" title="var">e</span> (<a class="idref" href="HoTT.Spaces.Finite.html#z:56"><span class="id" title="variable">z</span></a><a class="idref" href="HoTT.Basics.Overture.html#6bc2e8b4a6e295632a90f5f35132db8d"><span class="id" title="notation">^</span></a> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#6bc2e8b4a6e295632a90f5f35132db8d"><span class="id" title="notation">^</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">z</span> := <span class="id" title="var">e</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">z</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">z</span>|[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_rest"><span class="id" title="definition">fin_transpose_last_with_rest</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_last"><span class="id" title="definition">fin_transpose_last_with_last</span></a>; <span class="id" title="tactic">exact</span> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> []. <span class="id" title="var">ev_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_with"><span class="id" title="definition">fin_transpose_last_with_with</span></a>; <span class="id" title="tactic">exact</span> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Coq.Init.Datatypes.html#fst"><span class="id" title="projection">fst</span></a>, <a class="idref" href="Coq.Init.Datatypes.html#snd"><span class="id" title="projection">snd</span></a>; <span class="id" title="var">ev_equiv</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span>|[]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="HoTT.Types.Sum.html#unfunctor_sum_l_beta"><span class="id" title="definition">unfunctor_sum_l_beta</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_invol"><span class="id" title="definition">fin_transpose_last_with_invol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_last"><span class="id" title="definition">fin_transpose_last_with_last</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#6bc2e8b4a6e295632a90f5f35132db8d"><span class="id" title="notation">^</span></a>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> <a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Sum.html#equiv_unfunctor_sum_l"><span class="id" title="definition">equiv_unfunctor_sum_l</span></a> <span class="id" title="var">e</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="HoTT.Types.Sum.html#is_inl_or_is_inr"><span class="id" title="definition">is_inl_or_is_inr</span></a> (<span class="id" title="var">e</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span>|<span class="id" title="var">r</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">q</span> := <a class="idref" href="HoTT.Types.Sum.html#inr_un_inr"><span class="id" title="definition">inr_un_inr</span></a> (<span class="id" title="var">e</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>)) <span class="id" title="var">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Equivalences.html#moveR_equiv_V"><span class="id" title="definition">moveR_equiv_V</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">s</span> := <span class="id" title="var">q</span><a class="idref" href="HoTT.Basics.Overture.html#6bc2e8b4a6e295632a90f5f35132db8d"><span class="id" title="notation">^</span></a> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a> (<span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a>) (<a class="idref" href="HoTT.Types.Unit.html#path_unit"><span class="id" title="definition">path_unit</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">p'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="HoTT.Types.Sum.html#inl_ne_inr"><span class="id" title="definition">inl_ne_inr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">exact</span> (<span class="id" title="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#6bc2e8b4a6e295632a90f5f35132db8d"><span class="id" title="notation">^</span></a> <a class="idref" href="HoTT.Basics.Overture.html#2b82354f12c687608f5c1ade3e7ee37d"><span class="id" title="notation">#</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Coq.Init.Datatypes.html#fst"><span class="id" title="projection">fst</span></a>, <a class="idref" href="Coq.Init.Datatypes.html#snd"><span class="id" title="projection">snd</span></a>; <span class="id" title="var">ev_equiv</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span>|[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_last_other"><span class="id" title="definition">fin_transpose_last_with_last_other</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Types.Sum.html#unfunctor_sum_l_beta"><span class="id" title="definition">unfunctor_sum_l_beta</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_last"><span class="id" title="definition">fin_transpose_last_with_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fin_equiv_inv"><span class="id" title="definition">fin_equiv_inv</span></a> (<a name="n:58"><span class="id" title="binder">n</span></a> <a name="m:59"><span class="id" title="binder">m</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a name="e:60"><span class="id" title="binder">e</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:58"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:59"><span class="id" title="variable">m</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>)<br/>
: <a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:59"><span class="id" title="variable">m</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a><a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:58"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:59"><span class="id" title="variable">m</span></a><a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Basics.Overture.html#::fibration_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv_hfiber"><span class="id" title="definition">fin_equiv_hfiber</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:58"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:59"><span class="id" title="variable">m</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#e:60"><span class="id" title="variable">e</span></a><a class="idref" href="HoTT.Basics.Overture.html#::fibration_scope:x_'.1'"><span class="id" title="notation">).1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fin_equiv_issect"><span class="id" title="definition">fin_equiv_issect</span></a> (<a name="n:61"><span class="id" title="binder">n</span></a> <a name="m:62"><span class="id" title="binder">m</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a name="e:63"><span class="id" title="binder">e</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:61"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:62"><span class="id" title="variable">m</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv'"><span class="id" title="definition">fin_equiv'</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:61"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:62"><span class="id" title="variable">m</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv_inv"><span class="id" title="definition">fin_equiv_inv</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:61"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:62"><span class="id" title="variable">m</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#e:63"><span class="id" title="variable">e</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#2596316c6f2ff161cb03e25fd8914390"><span class="id" title="notation">==</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#e:63"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Basics.Overture.html#::fibration_scope:x_'.2'"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv_hfiber"><span class="id" title="definition">fin_equiv_hfiber</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:61"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:62"><span class="id" title="variable">m</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#e:63"><span class="id" title="variable">e</span></a><a class="idref" href="HoTT.Basics.Overture.html#::fibration_scope:x_'.2'"><span class="id" title="notation">).2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fin_equiv_inj_fst"><span class="id" title="definition">fin_equiv_inj_fst</span></a> (<a name="n:64"><span class="id" title="binder">n</span></a> <a name="m:65"><span class="id" title="binder">m</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="k:66"><span class="id" title="binder">k</span></a> <a name="l:67"><span class="id" title="binder">l</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:65"><span class="id" title="variable">m</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>) (<a name="e:68"><span class="id" title="binder">e</span></a> <a name="f:69"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:64"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:65"><span class="id" title="variable">m</span></a>)<br/>
: <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv"><span class="id" title="definition">fin_equiv</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:64"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:66"><span class="id" title="variable">k</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#e:68"><span class="id" title="variable">e</span></a> <a class="idref" href="HoTT.Basics.Overture.html#2596316c6f2ff161cb03e25fd8914390"><span class="id" title="notation">==</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv"><span class="id" title="definition">fin_equiv</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:64"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#l:67"><span class="id" title="variable">l</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#f:69"><span class="id" title="variable">f</span></a><a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#k:66"><span class="id" title="variable">k</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#l:67"><span class="id" title="variable">l</span></a><a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">p</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span>); <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_last"><span class="id" title="definition">fin_transpose_last_with_last</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fin_equiv_inj_snd"><span class="id" title="definition">fin_equiv_inj_snd</span></a> (<a name="n:70"><span class="id" title="binder">n</span></a> <a name="m:71"><span class="id" title="binder">m</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="k:72"><span class="id" title="binder">k</span></a> <a name="l:73"><span class="id" title="binder">l</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:71"><span class="id" title="variable">m</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>) (<a name="e:74"><span class="id" title="binder">e</span></a> <a name="f:75"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:70"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:71"><span class="id" title="variable">m</span></a>)<br/>
: <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv"><span class="id" title="definition">fin_equiv</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:70"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:71"><span class="id" title="variable">m</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:72"><span class="id" title="variable">k</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#e:74"><span class="id" title="variable">e</span></a> <a class="idref" href="HoTT.Basics.Overture.html#2596316c6f2ff161cb03e25fd8914390"><span class="id" title="notation">==</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv"><span class="id" title="definition">fin_equiv</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:70"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:71"><span class="id" title="variable">m</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#l:73"><span class="id" title="variable">l</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#f:75"><span class="id" title="variable">f</span></a><a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#e:74"><span class="id" title="variable">e</span></a> <a class="idref" href="HoTT.Basics.Overture.html#2596316c6f2ff161cb03e25fd8914390"><span class="id" title="notation">==</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#f:75"><span class="id" title="variable">f</span></a><a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">q</span> := <span class="id" title="var">p</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>)); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_last"><span class="id" title="definition">fin_transpose_last_with_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">q</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">q</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Types.Sum.html#path_sum_inl"><span class="id" title="definition">path_sum_inl</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_inj"><span class="id" title="definition">equiv_inj</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with"><span class="id" title="definition">fin_transpose_last_with</span></a> <span class="id" title="var">m</span> <span class="id" title="var">k</span>) (<span class="id" title="var">p</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">x</span>)))).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Now it's time for funext. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <a name="isequiv_fin_equiv"><span class="id" title="instance">isequiv_fin_equiv</span></a> `{<a name="H:76"><span class="id" title="binder">Funext</span></a>} (<a name="n:77"><span class="id" title="binder">n</span></a> <a name="m:78"><span class="id" title="binder">m</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
: <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" title="class">IsEquiv</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv'"><span class="id" title="definition">fin_equiv'</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:77"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:78"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Equiv.PathSplit.html#isequiv_pathsplit"><span class="id" title="definition">isequiv_pathsplit</span></a> 0 <span class="id" title="var">_</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">∃</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv_inv"><span class="id" title="definition">fin_equiv_inv</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Types.Equiv.html#path_equiv"><span class="id" title="definition">path_equiv</span></a>, <a class="idref" href="HoTT.Types.Arrow.html#path_arrow"><span class="id" title="definition">path_arrow</span></a>, <a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv_issect"><span class="id" title="definition">fin_equiv_issect</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">k</span> <span class="id" title="var">e</span>] [<span class="id" title="var">l</span> <span class="id" title="var">f</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> <a class="idref" href="Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">refine</span> <a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">;</span></a> <a class="idref" href="HoTT.Basics.Trunc.html#path_ishprop"><span class="id" title="lemma">path_ishprop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a> <a class="idref" href="HoTT.Basics.Overture.html#equiv_fun"><span class="id" title="projection">equiv_fun</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap10"><span class="id" title="definition">ap10</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Types.Prod.html#path_prod'"><span class="id" title="definition">path_prod'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv_inj_fst"><span class="id" title="definition">fin_equiv_inj_fst</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">k</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Types.Equiv.html#path_equiv"><span class="id" title="definition">path_equiv</span></a>, <a class="idref" href="HoTT.Types.Arrow.html#path_arrow"><span class="id" title="definition">path_arrow</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv_inj_snd"><span class="id" title="definition">fin_equiv_inj_snd</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">k</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="equiv_fin_equiv"><span class="id" title="definition">equiv_fin_equiv</span></a> `{<a name="H:79"><span class="id" title="binder">Funext</span></a>} (<a name="n:80"><span class="id" title="binder">n</span></a> <a name="m:81"><span class="id" title="binder">m</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
: <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">(</span></a><a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:81"><span class="id" title="variable">m</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a><a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:80"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:81"><span class="id" title="variable">m</span></a><a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a><a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">)</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:80"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:81"><span class="id" title="variable">m</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a><a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Basics.Overture.html#Build_Equiv"><span class="id" title="constructor">Build_Equiv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv'"><span class="id" title="definition">fin_equiv'</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:80"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:81"><span class="id" title="variable">m</span></a>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
In particular, this implies that if two canonical finite sets are equivalent, then their cardinalities are equal. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="nat_eq_fin_equiv"><span class="id" title="definition">nat_eq_fin_equiv</span></a> (<a name="n:82"><span class="id" title="binder">n</span></a> <a name="m:83"><span class="id" title="binder">m</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
: <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:82"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:83"><span class="id" title="variable">m</span></a><a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#n:82"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:83"><span class="id" title="variable">m</span></a><a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>]; <span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">m</span> <span class="id" title="var">IHm</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">elim</span> (<span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">tt</span></a><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">elim</span> (<span class="id" title="var">e</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a> <a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">IHn</span> <span class="id" title="var">m</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="Coq.Init.Datatypes.html#snd"><span class="id" title="projection">snd</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#fin_equiv_inv"><span class="id" title="definition">fin_equiv_inv</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab225"></a><h2 class="section">Definition of general finite sets</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <a name="Finite"><span class="id" title="record">Finite</span></a> (<a name="X:84"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) :=<br/>
&nbsp;&nbsp;{ <a name="fcard"><span class="id" title="projection">fcard</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="merely_equiv_fin"><span class="id" title="projection">merely_equiv_fin</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#X:84"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fcard:86"><span class="id" title="method">fcard</span></a>) }.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">X</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">X</span> {<span class="id" title="var">_</span>}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="issig_finite"><span class="id" title="definition">issig_finite</span></a> <a name="X:88"><span class="id" title="binder">X</span></a><br/>
: <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a> <a name="n:89"><span class="id" title="binder">n</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a> <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#X:88"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:89"><span class="id" title="variable">n</span></a>) <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:88"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">issig</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Note that the sigma over cardinalities is not truncated.  Nevertheless, because canonical finite sets of different cardinalities are not isomorphic, being finite is still an hprop.  (Thus, we could have truncated the sigma and gotten an equivalent definition, but it would be less convenient to reason about.) 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <a name="ishprop_finite"><span class="id" title="instance">ishprop_finite</span></a> <a name="X:90"><span class="id" title="binder">X</span></a><br/>
: <a class="idref" href="HoTT.Basics.Overture.html#IsHProp"><span class="id" title="abbreviation">IsHProp</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:90"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Trunc.html#trunc_equiv'"><span class="id" title="definition">trunc_equiv'</span></a> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Spaces.Finite.html#issig_finite"><span class="id" title="definition">issig_finite</span></a> <span class="id" title="var">X</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Types.Sigma.html#ishprop_sigma_disjoint"><span class="id" title="definition">ishprop_sigma_disjoint</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">Hn</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#nat_eq_fin_equiv"><span class="id" title="definition">nat_eq_fin_equiv</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span> (<span class="id" title="var">Hm</span> <a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">oE</span></a> <span class="id" title="var">Hn</span><a class="idref" href="HoTT.Basics.Equivalences.html#76214fa316f18d720833e810bbfd71fb"><span class="id" title="notation">^-1</span></a>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab226"></a><h2 class="section">Preservation of finiteness by equivalences</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <a name="X:91"><span class="id" title="binder">X</span></a> {<a name="Y:92"><span class="id" title="binder">Y</span></a>} (<a name="e:93"><span class="id" title="binder">e</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:91"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:92"><span class="id" title="variable">Y</span></a>) `{<a name="H:94"><span class="id" title="binder">IsEquiv</span></a> <a name="H:94"><span class="id" title="binder">X</span></a> <a name="H:94"><span class="id" title="binder">Y</span></a> <a name="H:94"><span class="id" title="binder">e</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:91"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:92"><span class="id" title="variable">Y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#Build_Finite"><span class="id" title="constructor">Build_Finite</span></a> <span class="id" title="var">Y</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">X</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> := <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">X</span>); <span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Truncations.Core.html#Trunc.tr"><span class="id" title="constructor">tr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_compose"><span class="id" title="definition">equiv_compose</span></a> <span class="id" title="var">f</span> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="finite_equiv'"><span class="id" title="definition">finite_equiv'</span></a> <a name="X:95"><span class="id" title="binder">X</span></a> {<a name="Y:96"><span class="id" title="binder">Y</span></a>} (<a name="e:97"><span class="id" title="binder">e</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:95"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:96"><span class="id" title="variable">Y</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:95"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:96"><span class="id" title="variable">Y</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:95"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#e:97"><span class="id" title="variable">e</span></a>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a name="finite_equiv_equiv"><span class="id" title="lemma">finite_equiv_equiv</span></a> <a name="X:98"><span class="id" title="binder">X</span></a> <a name="Y:99"><span class="id" title="binder">Y</span></a><br/>
: <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#X:98"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:99"><span class="id" title="variable">Y</span></a><a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:98"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:99"><span class="id" title="variable">Y</span></a><a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Trunc.html#equiv_iff_hprop"><span class="id" title="definition">equiv_iff_hprop</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv'"><span class="id" title="definition">finite_equiv'</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">assumption</span> | <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">assumption</span> ].<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fcard_equiv"><span class="id" title="definition">fcard_equiv</span></a> {<a name="X:100"><span class="id" title="binder">X</span></a> <a name="Y:101"><span class="id" title="binder">Y</span></a>} (<a name="e:102"><span class="id" title="binder">e</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:100"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:101"><span class="id" title="variable">Y</span></a>) `{<a name="H:103"><span class="id" title="binder">IsEquiv</span></a> <a name="H:103"><span class="id" title="binder">X</span></a> <a name="H:103"><span class="id" title="binder">Y</span></a> <a name="H:103"><span class="id" title="binder">e</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a name="H0:104"><span class="id" title="binder">Finite</span></a> <a name="H0:104"><span class="id" title="binder">X</span></a>} `{<a name="H1:105"><span class="id" title="binder">Finite</span></a> <a name="H1:105"><span class="id" title="binder">Y</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:100"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:101"><span class="id" title="variable">Y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (@<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">Y</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <span class="id" title="var">X</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a> (@<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">Y</span>) (<a class="idref" href="HoTT.Basics.Trunc.html#path_ishprop"><span class="id" title="lemma">path_ishprop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fcard_equiv'"><span class="id" title="definition">fcard_equiv'</span></a> {<a name="X:106"><span class="id" title="binder">X</span></a> <a name="Y:107"><span class="id" title="binder">Y</span></a>} (<a name="e:108"><span class="id" title="binder">e</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:106"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:107"><span class="id" title="variable">Y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a name="H:109"><span class="id" title="binder">Finite</span></a> <a name="H:109"><span class="id" title="binder">X</span></a>} `{<a name="H0:110"><span class="id" title="binder">Finite</span></a> <a name="H0:110"><span class="id" title="binder">Y</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:106"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:107"><span class="id" title="variable">Y</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv"><span class="id" title="definition">fcard_equiv</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#e:108"><span class="id" title="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab227"></a><h2 class="section">Simple examples of finite sets</h2>

<div class="paragraph"> </div>

 Canonical finite sets are finite 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <a name="finite_fin"><span class="id" title="instance">finite_fin</span></a> <a name="n:111"><span class="id" title="binder">n</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:111"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Spaces.Finite.html#Build_Finite"><span class="id" title="constructor">Build_Finite</span></a> <span class="id" title="var">_</span> <span class="id" title="var">n</span> (<a class="idref" href="HoTT.Truncations.Core.html#Trunc.tr"><span class="id" title="constructor">tr</span></a> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_idmap"><span class="id" title="definition">equiv_idmap</span></a> <span class="id" title="var">_</span>)).<br/>

<br/>
</div>

<div class="doc">
This includes the empty set. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <a name="finite_empty"><span class="id" title="instance">finite_empty</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Empty"><span class="id" title="inductive">Empty</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Spaces.Finite.html#finite_fin"><span class="id" title="instance">finite_fin</span></a> 0.<br/>

<br/>
</div>

<div class="doc">
The unit type is finite, since it's equivalent to <span class="inlinecode"><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a></span> <span class="inlinecode">1</span>. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <a name="finite_unit"><span class="id" title="instance">finite_unit</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv'"><span class="id" title="definition">finite_equiv'</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> 1) <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Types.Sum.html#sum_empty_l"><span class="id" title="definition">sum_empty_l</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Thus, any contractible type is finite. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <a name="finite_contr"><span class="id" title="instance">finite_contr</span></a> <a name="X:112"><span class="id" title="binder">X</span></a> `{<a name="Contr0:113"><span class="id" title="binder">Contr</span></a> <a name="Contr0:113"><span class="id" title="binder">X</span></a>} : <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:112"><span class="id" title="variable">X</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a> <a class="idref" href="HoTT.Types.Unit.html#equiv_contr_unit"><span class="id" title="definition">equiv_contr_unit</span></a><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Any decidable hprop is finite, since it must be equivalent to <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#Empty"><span class="id" title="inductive">Empty</span></a></span> or <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="finite_decidable_hprop"><span class="id" title="definition">finite_decidable_hprop</span></a> <a name="X:114"><span class="id" title="binder">X</span></a> `{<a name="IsHProp0:115"><span class="id" title="binder">IsHProp</span></a> <a name="IsHProp0:115"><span class="id" title="binder">X</span></a>} `{<a name="H:116"><span class="id" title="binder">Decidable</span></a> <a name="H:116"><span class="id" title="binder">X</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:114"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="HoTT.Basics.Decidable.html#dec"><span class="id" title="definition">dec</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span>|<span class="id" title="var">nx</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="HoTT.Basics.Overture.html#Contr"><span class="id" title="abbreviation">Contr</span></a> <span class="id" title="var">X</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Trunc.html#contr_inhabited_hprop"><span class="id" title="lemma">contr_inhabited_hprop</span></a> <span class="id" title="var">X</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Empty"><span class="id" title="inductive">Empty</span></a> <span class="id" title="var">nx</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Immediate</span> <span class="id" title="var">finite_decidable_hprop</span> : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
</div>

<div class="doc">
It follows that the propositional truncation of any finite set is finite. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <a name="finite_merely"><span class="id" title="instance">finite_merely</span></a> <a name="X:117"><span class="id" title="binder">X</span></a> {<a name="fX:118"><span class="id" title="binder">fX</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:117"><span class="id" title="variable">X</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:117"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
</div>

<div class="doc">
As in decidable_finite_hprop, we case on cardinality first to avoid needing funext. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">fX</span> <span class="id" title="keyword">as</span> [[|<span class="id" title="var">n</span>] <span class="id" title="var">e</span>]; <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_decidable_hprop"><span class="id" title="definition">finite_decidable_hprop</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">e</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Truncations.Core.html#Trunc.tr"><span class="id" title="constructor">tr</span></a> (<span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">tt</span></a><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Finite sets are closed under path-spaces. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <a name="finite_paths"><span class="id" title="instance">finite_paths</span></a> {<a name="X:119"><span class="id" title="binder">X</span></a>} `{<a name="H:120"><span class="id" title="binder">Finite</span></a> <a name="H:120"><span class="id" title="binder">X</span></a>} (<a name="x:121"><span class="id" title="binder">x</span></a> <a name="y:122"><span class="id" title="binder">y</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:119"><span class="id" title="variable">X</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#x:121"><span class="id" title="variable">x</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#y:122"><span class="id" title="variable">y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
</div>

<div class="doc">
If we assume <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" title="axiom">Funext</span></a></span>, then typeclass inference produces this automatically, since <span class="inlinecode"><a class="idref" href="HoTT.Categories.UniversalProperties.html#UniversalMorphism.TerminalMorphism.X"><span class="id" title="variable">X</span></a></span> has decidable equality and (hence) is a set, so <span class="inlinecode"><a class="idref" href="HoTT.Categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a>=<a class="idref" href="HoTT.Categories.Functor.Attributes.html#fully_faithful_helpers.y"><span class="id" title="variable">y</span></a></span> is a decidable hprop.  But we can also deduce it without funext, since <span class="inlinecode"><a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="record">Finite</span></a></span> is an hprop even without funext. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#finite_decidable_hprop"><span class="id" title="definition">finite_decidable_hprop</span></a>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Finite sets are also closed under successors. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="finite_succ"><span class="id" title="instance">finite_succ</span></a> <a name="X:123"><span class="id" title="binder">X</span></a> `{<a name="H:124"><span class="id" title="binder">Finite</span></a> <a name="H:124"><span class="id" title="binder">X</span></a>} : <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#X:123"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#Build_Finite"><span class="id" title="constructor">Build_Finite</span></a> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">X</span><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Truncations.Core.html#Trunc.tr"><span class="id" title="constructor">tr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Types.Sum.html#6f316eb0e72edafd90fcf935afd7e126"><span class="id" title="notation">+</span></a><a class="idref" href="HoTT.Types.Sum.html#6f316eb0e72edafd90fcf935afd7e126"><span class="id" title="notation">E</span></a> 1); <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fcard_succ"><span class="id" title="definition">fcard_succ</span></a> <a name="X:125"><span class="id" title="binder">X</span></a> `{<a name="H:126"><span class="id" title="binder">Finite</span></a> <a name="H:126"><span class="id" title="binder">X</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#X:125"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:125"><span class="id" title="variable">X</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a><br/>
&nbsp;&nbsp;:= 1.<br/>

<br/>
</div>

<div class="doc">
<a name="lab228"></a><h2 class="section">Decidability</h2>

<div class="paragraph"> </div>

 Like canonical finite sets, finite sets have decidable equality. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <a name="decidablepaths_finite"><span class="id" title="instance">decidablepaths_finite</span></a> `{<a name="H:127"><span class="id" title="binder">Funext</span></a>} <a name="X:128"><span class="id" title="binder">X</span></a> `{<a name="H0:129"><span class="id" title="binder">Finite</span></a> <a name="H0:129"><span class="id" title="binder">X</span></a>}<br/>
: <a class="idref" href="HoTT.Basics.Decidable.html#DecidablePaths"><span class="id" title="class">DecidablePaths</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:128"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Decidable.html#decidablepaths_equiv"><span class="id" title="definition">decidablepaths_equiv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
However, contrary to what you might expect, we cannot assert that "every finite set is decidable"!  That would be claiming a *uniform* way to select an element from every nonempty finite set, which contradicts univalence. 
<div class="paragraph"> </div>

 One thing we can prove is that any finite hprop is decidable. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <a name="decidable_finite_hprop"><span class="id" title="instance">decidable_finite_hprop</span></a> <a name="X:130"><span class="id" title="binder">X</span></a> `{<a name="IsHProp0:131"><span class="id" title="binder">IsHProp</span></a> <a name="IsHProp0:131"><span class="id" title="binder">X</span></a>} {<a name="fX:132"><span class="id" title="binder">fX</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:130"><span class="id" title="variable">X</span></a>}<br/>
: <a class="idref" href="HoTT.Basics.Decidable.html#Decidable"><span class="id" title="class">Decidable</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:130"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
</div>

<div class="doc">
To avoid having to use <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" title="axiom">Funext</span></a></span>, we case on the cardinality of <span class="inlinecode"><a class="idref" href="HoTT.Categories.UniversalProperties.html#UniversalMorphism.TerminalMorphism.X"><span class="id" title="variable">X</span></a></span> before stripping the truncation from its equivalence to <span class="inlinecode"><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span></span>; if we did things in the other order then we'd have to know that <span class="inlinecode"><a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#Reflective_Subuniverse.Decidable"><span class="id" title="section">Decidable</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Categories.UniversalProperties.html#UniversalMorphism.TerminalMorphism.X"><span class="id" title="variable">X</span></a></span> is an hprop, which requires funext. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">fX</span> <span class="id" title="keyword">as</span> [[|<span class="id" title="var">n</span>] <span class="id" title="var">e</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">e</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">tt</span></a><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
It follows that if <span class="inlinecode"><a class="idref" href="HoTT.Categories.UniversalProperties.html#UniversalMorphism.TerminalMorphism.X"><span class="id" title="variable">X</span></a></span> is finite, then its propositional truncation is decidable. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <a name="decidable_merely_finite"><span class="id" title="instance">decidable_merely_finite</span></a> <a name="X:133"><span class="id" title="binder">X</span></a> {<a name="fX:134"><span class="id" title="binder">fX</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:133"><span class="id" title="variable">X</span></a>}<br/>
: <a class="idref" href="HoTT.Basics.Decidable.html#Decidable"><span class="id" title="class">Decidable</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:133"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
From this, it follows that any finite set is *merely* decidable. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="merely_decidable_finite"><span class="id" title="definition">merely_decidable_finite</span></a> <a name="X:135"><span class="id" title="binder">X</span></a> `{<a name="H:136"><span class="id" title="binder">Finite</span></a> <a name="H:136"><span class="id" title="binder">X</span></a>}<br/>
: <a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> (<a class="idref" href="HoTT.Basics.Decidable.html#Decidable"><span class="id" title="class">Decidable</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:135"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#O_decidable"><span class="id" title="definition">O_decidable</span></a>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab229"></a><h2 class="section">Induction over finite sets</h2>

<div class="paragraph"> </div>

 Most concrete applications of this don't actually require univalence, but the general version does.  For this reason the general statement is less useful (and less used in the sequel) than it might be. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="finite_ind_hprop"><span class="id" title="definition">finite_ind_hprop</span></a> `{<a name="H:137"><span class="id" title="binder">Univalence</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="P:139"><span class="id" title="binder">P</span></a> : <a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="X:138"><span class="id" title="binder">X</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:138"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a name="H0:142"><span class="id" title="binder">∀</span></a> <a name="H0:142"><span class="id" title="binder">X</span></a> <a name="H0:142"><span class="id" title="binder">(</span></a><a name="H0:142"><span class="id" title="binder">fX</span></a><a name="H0:142"><span class="id" title="binder">:</span></a><a name="H0:142"><span class="id" title="binder">Finite</span></a> <a name="H0:142"><span class="id" title="binder">X</span></a><a name="H0:142"><span class="id" title="binder">),</span></a> <a name="H0:142"><span class="id" title="binder">IsHProp</span></a> <a name="H0:142"><span class="id" title="binder">(</span></a><a name="H0:142"><span class="id" title="binder">P</span></a> <a name="H0:142"><span class="id" title="binder">X</span></a> <a name="H0:142"><span class="id" title="binder">_</span></a><a name="H0:142"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="f0:143"><span class="id" title="binder">f0</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#P:139"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Empty"><span class="id" title="inductive">Empty</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="fs:146"><span class="id" title="binder">fs</span></a> : <a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="X:144"><span class="id" title="binder">X</span></a> (<a name="fX:145"><span class="id" title="binder">fX</span></a>:<a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:144"><span class="id" title="variable">X</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">),</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#P:139"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:144"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#P:139"><span class="id" title="variable">P</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#X:144"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a>)%<span class="id" title="keyword">type</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="X:147"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) `{<a name="H1:148"><span class="id" title="binder">Finite</span></a> <a name="H1:148"><span class="id" title="binder">X</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#P:139"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:147"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">p</span> := <a class="idref" href="HoTT.Basics.PathGroupoids.html#transportD"><span class="id" title="definition">transportD</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <span class="id" title="var">P</span> (<a class="idref" href="HoTT.Types.Universe.html#path_universe"><span class="id" title="definition">path_universe</span></a> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> (<span class="id" title="var">P</span> <span class="id" title="var">X</span>) (<a class="idref" href="HoTT.Basics.Trunc.html#path_ishprop"><span class="id" title="lemma">path_ishprop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">p</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">f0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> (<span class="id" title="var">P</span> (<a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <span class="id" title="var">n</span><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>)) (<a class="idref" href="HoTT.Basics.Trunc.html#path_ishprop"><span class="id" title="lemma">path_ishprop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">fs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">IH</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab230"></a><h2 class="section">The finite axiom of choice</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="finite_choice"><span class="id" title="definition">finite_choice</span></a> {<a name="X:149"><span class="id" title="binder">X</span></a>} `{<a name="H:150"><span class="id" title="binder">Finite</span></a> <a name="H:150"><span class="id" title="binder">X</span></a>} (<a name="P:151"><span class="id" title="binder">P</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:149"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
: <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="x:153"><span class="id" title="binder">x</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#P:151"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:153"><span class="id" title="variable">x</span></a>)<a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> (<a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="x:152"><span class="id" title="binder">x</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#P:151"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:152"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">P'</span> := <span class="id" title="var">P</span> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f'</span> := (<span class="id" title="keyword">fun</span> <a name="x:157"><span class="id" title="binder">x</span></a> ⇒ <span class="id" title="var">f</span> (<span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">x</span></a>)) : <a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="x:156"><span class="id" title="binder">x</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> (<span class="id" title="var">P'</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:154"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Truncations.Core.html#Trunc_functor"><span class="id" title="definition">Trunc_functor</span></a> (<span class="id" title="var">X</span> := <a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="x:159"><span class="id" title="binder">x</span></a>:<a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">X</span>)<a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <span class="id" title="var">P'</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:158"><span class="id" title="variable">x</span></a>) (-1) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">g</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Overture.html#eissect"><span class="id" title="method">eissect</span></a> <span class="id" title="var">e</span> <span class="id" title="var">x</span> <a class="idref" href="HoTT.Basics.Overture.html#2b82354f12c687608f5c1ade3e7ee37d"><span class="id" title="notation">#</span></a> <span class="id" title="var">g</span> (<span class="id" title="var">e</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">clearbody</span> <span class="id" title="var">P'</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">f</span> <span class="id" title="var">P</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">P</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Truncations.Core.html#Trunc.tr"><span class="id" title="constructor">tr</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#Empty_ind"><span class="id" title="definition">Empty_ind</span></a> <span class="id" title="var">P</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> (<span class="id" title="var">P</span> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a>) (<span class="id" title="var">f</span> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <span class="id" title="var">f</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Truncations.Core.html#Trunc.tr"><span class="id" title="constructor">tr</span></a> (<a class="idref" href="HoTT.Types.Sum.html#sum_ind"><span class="id" title="definition">sum_ind</span></a> <span class="id" title="var">P</span> <span class="id" title="var">IH</span> (<a class="idref" href="HoTT.Basics.Overture.html#Unit_ind"><span class="id" title="definition">Unit_ind</span></a> <span class="id" title="var">e</span>))).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab231"></a><h2 class="section">Constructions on finite sets</h2>

<div class="paragraph"> </div>

 Finite sets are closed under sums, products, function spaces, and equivalence spaces.  There are multiple choices we could make regarding how to prove these facts.  Since we know what the cardinalities ought to be in all cases (since we know how to add, multiply, exponentiate, and take factorials of natural numbers), we could specify those off the bat, and then reduce to the case of canonical finite sets.  However, it's more amusing to instead prove finiteness of these constructions by "finite-set induction", and then *deduce* that their cardinalities are given by the corresponding operations on natural numbers (because they satisfy the same recurrences). 
<div class="paragraph"> </div>

<a name="lab232"></a><h3 class="section">Binary sums</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="finite_sum"><span class="id" title="instance">finite_sum</span></a> <a name="X:160"><span class="id" title="binder">X</span></a> <a name="Y:161"><span class="id" title="binder">Y</span></a> `{<a name="H:162"><span class="id" title="binder">Finite</span></a> <a name="H:162"><span class="id" title="binder">X</span></a>} `{<a name="H0:163"><span class="id" title="binder">Finite</span></a> <a name="H0:163"><span class="id" title="binder">Y</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#X:160"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:161"><span class="id" title="variable">Y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Types.Sum.html#functor_sum"><span class="id" title="definition">functor_sum</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" title="abbreviation">idmap</span></a> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">Y</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Sum.html#sum_empty_r"><span class="id" title="definition">sum_empty_r</span></a> <span class="id" title="var">X</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Types.Sum.html#equiv_sum_assoc"><span class="id" title="definition">equiv_sum_assoc</span></a> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a>) <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Note that the cardinality function <span class="inlinecode"><a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="projection">fcard</span></a></span> actually computes.  The same will be true of all the other proofs in this section, though we don't always verify it. 
</div>
<div class="code">
<span class="id" title="keyword">Goal</span> <a name="Unnamed_thm"><span class="id" title="definition">fcard</span></a> <a name="Unnamed_thm"><span class="id" title="definition">(</span></a><a name="Unnamed_thm"><span class="id" title="definition">Fin</span></a> <a name="Unnamed_thm"><span class="id" title="definition">3</span></a> <a name="Unnamed_thm"><span class="id" title="definition">+</span></a> <a name="Unnamed_thm"><span class="id" title="definition">Fin</span></a> <a name="Unnamed_thm"><span class="id" title="definition">4)</span></a> <a name="Unnamed_thm"><span class="id" title="definition">=</span></a> <a name="Unnamed_thm"><span class="id" title="definition">7</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fcard_sum"><span class="id" title="definition">fcard_sum</span></a> <a name="X:164"><span class="id" title="binder">X</span></a> <a name="Y:165"><span class="id" title="binder">Y</span></a> `{<a name="H:166"><span class="id" title="binder">Finite</span></a> <a name="H:166"><span class="id" title="binder">X</span></a>} `{<a name="H0:167"><span class="id" title="binder">Finite</span></a> <a name="H0:167"><span class="id" title="binder">Y</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#X:164"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:165"><span class="id" title="variable">Y</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:164"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:165"><span class="id" title="variable">Y</span></a><a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <a class="idref" href="HoTT.Spaces.Nat.html#nat_plus_comm"><span class="id" title="definition">nat_plus_comm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv'"><span class="id" title="definition">fcard_equiv'</span></a> (1 <a class="idref" href="HoTT.Types.Sum.html#6f316eb0e72edafd90fcf935afd7e126"><span class="id" title="notation">+</span></a><a class="idref" href="HoTT.Types.Sum.html#6f316eb0e72edafd90fcf935afd7e126"><span class="id" title="notation">E</span></a> <span class="id" title="var">e</span>) <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a> (<span class="id" title="keyword">fun</span> <a name="y:169"><span class="id" title="binder">y</span></a> ⇒ (<a class="idref" href="HoTT.Spaces.Finite.html#y:168"><span class="id" title="variable">y</span></a> <a class="idref" href="Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">X</span>)) (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv"><span class="id" title="definition">fcard_equiv</span></a> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">Y</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv"><span class="id" title="definition">fcard_equiv</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Sum.html#sum_empty_r"><span class="id" title="definition">sum_empty_r</span></a> <span class="id" title="var">X</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv"><span class="id" title="definition">fcard_equiv</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Sum.html#equiv_sum_assoc"><span class="id" title="definition">equiv_sum_assoc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a> <a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">IH</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab233"></a><h3 class="section">Binary products</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="finite_prod"><span class="id" title="instance">finite_prod</span></a> <a name="X:170"><span class="id" title="binder">X</span></a> <a name="Y:171"><span class="id" title="binder">Y</span></a> `{<a name="H:172"><span class="id" title="binder">Finite</span></a> <a name="H:172"><span class="id" title="binder">X</span></a>} `{<a name="H0:173"><span class="id" title="binder">Finite</span></a> <a name="H0:173"><span class="id" title="binder">Y</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#X:170"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:171"><span class="id" title="variable">Y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Types.Prod.html#functor_prod"><span class="id" title="definition">functor_prod</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" title="abbreviation">idmap</span></a> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">Y</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Prod.html#prod_empty_r"><span class="id" title="definition">prod_empty_r</span></a> <span class="id" title="var">X</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Sum.html#sum_distrib_l"><span class="id" title="definition">sum_distrib_l</span></a> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_sum"><span class="id" title="instance">finite_sum</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Prod.html#prod_unit_r"><span class="id" title="definition">prod_unit_r</span></a> <span class="id" title="var">X</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fcard_prod"><span class="id" title="definition">fcard_prod</span></a> <a name="X:174"><span class="id" title="binder">X</span></a> <a name="Y:175"><span class="id" title="binder">Y</span></a> `{<a name="H:176"><span class="id" title="binder">Finite</span></a> <a name="H:176"><span class="id" title="binder">X</span></a>} `{<a name="H0:177"><span class="id" title="binder">Finite</span></a> <a name="H0:177"><span class="id" title="binder">Y</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#X:174"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:175"><span class="id" title="variable">Y</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:174"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Peano.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">×</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:175"><span class="id" title="variable">Y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv'"><span class="id" title="definition">fcard_equiv'</span></a> (<span class="id" title="var">e</span> <a class="idref" href="HoTT.Types.Prod.html#06be55fdc319c6b5e93cef6bd5e1f3f9"><span class="id" title="notation">×</span></a><a class="idref" href="HoTT.Types.Prod.html#06be55fdc319c6b5e93cef6bd5e1f3f9"><span class="id" title="notation">E</span></a> 1) <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a> (<span class="id" title="keyword">fun</span> <a name="x:179"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#x:178"><span class="id" title="variable">x</span></a> <a class="idref" href="Coq.Init.Peano.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">×</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">Y</span>) (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv"><span class="id" title="definition">fcard_equiv</span></a> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv"><span class="id" title="definition">fcard_equiv</span></a> (<a class="idref" href="HoTT.Types.Prod.html#prod_empty_l"><span class="id" title="definition">prod_empty_l</span></a> <span class="id" title="var">Y</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv"><span class="id" title="definition">fcard_equiv</span></a> (<a class="idref" href="HoTT.Types.Sum.html#sum_distrib_r"><span class="id" title="definition">sum_distrib_r</span></a> <span class="id" title="var">Y</span> (<a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <span class="id" title="var">n</span>) <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_sum"><span class="id" title="definition">fcard_sum</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <a class="idref" href="HoTT.Spaces.Nat.html#nat_plus_comm"><span class="id" title="definition">nat_plus_comm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Basics.PathGroupoids.html#ap011"><span class="id" title="definition">ap011</span></a> <a class="idref" href="Coq.Init.Peano.html#plus"><span class="id" title="definition">plus</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv'"><span class="id" title="definition">fcard_equiv'</span></a>, <a class="idref" href="HoTT.Types.Prod.html#prod_unit_l"><span class="id" title="definition">prod_unit_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab234"></a><h3 class="section">Function types</h3>

<div class="paragraph"> </div>

 Finite sets are closed under function types, and even dependent function types. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="finite_forall"><span class="id" title="instance">finite_forall</span></a> `{<a name="H:180"><span class="id" title="binder">Funext</span></a>} {<a name="X:181"><span class="id" title="binder">X</span></a>} (<a name="Y:182"><span class="id" title="binder">Y</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:181"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a name="H0:183"><span class="id" title="binder">Finite</span></a> <a name="H0:183"><span class="id" title="binder">X</span></a>} `{<a name="H1:185"><span class="id" title="binder">∀</span></a> <a name="H1:185"><span class="id" title="binder">x</span></a><a name="H1:185"><span class="id" title="binder">,</span></a> <a name="H1:185"><span class="id" title="binder">Finite</span></a> <a name="H1:185"><span class="id" title="binder">(</span></a><a name="H1:185"><span class="id" title="binder">Y</span></a> <a name="H1:185"><span class="id" title="binder">x</span></a><a name="H1:185"><span class="id" title="binder">)</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="x:186"><span class="id" title="binder">x</span></a>:<a class="idref" href="HoTT.Spaces.Finite.html#X:181"><span class="id" title="variable">X</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:182"><span class="id" title="variable">Y</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:186"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv'"><span class="id" title="definition">finite_equiv'</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Types.Forall.html#equiv_functor_forall'"><span class="id" title="definition">equiv_functor_forall'</span></a> (<span class="id" title="var">P</span> := <span class="id" title="keyword">fun</span> <a name="x:188"><span class="id" title="binder">x</span></a> ⇒ <span class="id" title="var">Y</span> (<span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">x</span></a>)) <span class="id" title="var">e</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_transport"><span class="id" title="definition">equiv_transport</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Basics.Overture.html#eissect"><span class="id" title="method">eissect</span></a> <span class="id" title="var">e</span> <span class="id" title="var">x</span>)). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Y'</span> := <span class="id" title="var">Y</span> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a>); <span class="id" title="tactic">change</span> (<a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="x:190"><span class="id" title="binder">x</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <span class="id" title="var">Y'</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:189"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="x:192"><span class="id" title="binder">x</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<span class="id" title="var">Y'</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:191"><span class="id" title="variable">x</span></a>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>; <span class="id" title="var">clearbody</span> <span class="id" title="var">Y'</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">Y'</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Types.Sum.html#equiv_sum_ind"><span class="id" title="definition">equiv_sum_ind</span></a> <span class="id" title="var">Y'</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#finite_prod"><span class="id" title="instance">finite_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <span class="id" title="var">_</span> (@<a class="idref" href="HoTT.Basics.Overture.html#Unit_ind"><span class="id" title="definition">Unit_ind</span></a> (<span class="id" title="keyword">fun</span> <a name="u:194"><span class="id" title="binder">u</span></a> ⇒ <span class="id" title="var">Y'</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#u:193"><span class="id" title="variable">u</span></a>))) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Types.Unit.html#isequiv_unit_ind"><span class="id" title="instance">isequiv_unit_ind</span></a> (<span class="id" title="var">Y'</span> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fcard_arrow"><span class="id" title="definition">fcard_arrow</span></a> `{<a name="H:195"><span class="id" title="binder">Funext</span></a>} <a name="X:196"><span class="id" title="binder">X</span></a> <a name="Y:197"><span class="id" title="binder">Y</span></a> `{<a name="H0:198"><span class="id" title="binder">Finite</span></a> <a name="H0:198"><span class="id" title="binder">X</span></a>} `{<a name="H1:199"><span class="id" title="binder">Finite</span></a> <a name="H1:199"><span class="id" title="binder">Y</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#X:196"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:197"><span class="id" title="variable">Y</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Nat.html#nat_exp"><span class="id" title="definition">nat_exp</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:197"><span class="id" title="variable">Y</span></a>) (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:196"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv"><span class="id" title="definition">fcard_equiv</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Arrow.html#functor_arrow"><span class="id" title="definition">functor_arrow</span></a> <span class="id" title="var">e</span> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" title="abbreviation">idmap</span></a><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a> (<span class="id" title="keyword">fun</span> <a name="x:201"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="HoTT.Spaces.Nat.html#nat_exp"><span class="id" title="definition">nat_exp</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">Y</span>) <a class="idref" href="HoTT.Spaces.Finite.html#x:200"><span class="id" title="variable">x</span></a>) (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv"><span class="id" title="definition">fcard_equiv</span></a> <span class="id" title="var">e</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv"><span class="id" title="definition">fcard_equiv</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Sum.html#equiv_sum_ind"><span class="id" title="definition">equiv_sum_ind</span></a> (<span class="id" title="keyword">fun</span> (<span class="id" title="var">_</span>:<a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <span class="id" title="var">n</span><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>) ⇒ <span class="id" title="var">Y</span>)<a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_prod"><span class="id" title="definition">fcard_prod</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="HoTT.Basics.PathGroupoids.html#ap011"><span class="id" title="definition">ap011</span></a> <a class="idref" href="Coq.Init.Peano.html#mult"><span class="id" title="definition">mult</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv"><span class="id" title="definition">fcard_equiv</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a>@<a class="idref" href="HoTT.Basics.Overture.html#Unit_ind"><span class="id" title="definition">Unit_ind</span></a> (<span class="id" title="keyword">fun</span> (<span class="id" title="var">_</span>:<a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a>) ⇒ <span class="id" title="var">Y</span>)<a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="projection">fcard</span></a></span> still computes, despite the funext: 
</div>
<div class="code">
<span class="id" title="keyword">Goal</span> <a name="Unnamed_thm"><span class="id" title="definition">∀</span></a> <a name="fs:202"><span class="id" title="binder">fs</span></a><a name="Unnamed_thm"><span class="id" title="definition">:</span></a><a name="Unnamed_thm"><span class="id" title="definition">Funext</span></a><a name="Unnamed_thm"><span class="id" title="definition">,</span></a> <a name="Unnamed_thm"><span class="id" title="definition">fcard</span></a> <a name="Unnamed_thm"><span class="id" title="definition">(</span></a><a name="Unnamed_thm"><span class="id" title="definition">Fin</span></a> <a name="Unnamed_thm"><span class="id" title="definition">3</span></a> <a name="Unnamed_thm"><span class="id" title="definition">→</span></a> <a name="Unnamed_thm"><span class="id" title="definition">Fin</span></a> <a name="Unnamed_thm"><span class="id" title="definition">4)</span></a> <a name="Unnamed_thm"><span class="id" title="definition">=</span></a> <a name="Unnamed_thm"><span class="id" title="definition">64</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab235"></a><h3 class="section">Automorphism types (i.e. symmetric groups)</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="finite_aut"><span class="id" title="instance">finite_aut</span></a> `{<a name="H:203"><span class="id" title="binder">Funext</span></a>} <a name="X:204"><span class="id" title="binder">X</span></a> `{<a name="H0:205"><span class="id" title="binder">Finite</span></a> <a name="H0:205"><span class="id" title="binder">X</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#X:204"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:204"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Types.Equiv.html#equiv_functor_equiv"><span class="id" title="definition">equiv_functor_equiv</span></a> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Equivalences.html#76214fa316f18d720833e810bbfd71fb"><span class="id" title="notation">^-1</span></a> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Equivalences.html#76214fa316f18d720833e810bbfd71fb"><span class="id" title="notation">^-1</span></a>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Spaces.Finite.html#equiv_fin_equiv"><span class="id" title="definition">equiv_fin_equiv</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n</span>) <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fcard_aut"><span class="id" title="definition">fcard_aut</span></a> `{<a name="H:206"><span class="id" title="binder">Funext</span></a>} <a name="X:207"><span class="id" title="binder">X</span></a> `{<a name="H0:208"><span class="id" title="binder">Finite</span></a> <a name="H0:208"><span class="id" title="binder">X</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#X:207"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:207"><span class="id" title="variable">X</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Nat.html#factorial"><span class="id" title="definition">factorial</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:207"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv"><span class="id" title="definition">fcard_equiv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Equiv.html#equiv_functor_equiv"><span class="id" title="definition">equiv_functor_equiv</span></a> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Equivalences.html#76214fa316f18d720833e810bbfd71fb"><span class="id" title="notation">^-1</span></a> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Equivalences.html#76214fa316f18d720833e810bbfd71fb"><span class="id" title="notation">^-1</span></a><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv"><span class="id" title="definition">fcard_equiv</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#equiv_fin_equiv"><span class="id" title="definition">equiv_fin_equiv</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_prod"><span class="id" title="definition">fcard_prod</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap011"><span class="id" title="definition">ap011</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="projection">fcard</span></a></span> still computes: 
</div>
<div class="code">
<span class="id" title="keyword">Goal</span> <a name="Unnamed_thm"><span class="id" title="definition">∀</span></a> <a name="fs:209"><span class="id" title="binder">fs</span></a><a name="Unnamed_thm"><span class="id" title="definition">:</span></a><a name="Unnamed_thm"><span class="id" title="definition">Funext</span></a><a name="Unnamed_thm"><span class="id" title="definition">,</span></a> <a name="Unnamed_thm"><span class="id" title="definition">fcard</span></a> <a name="Unnamed_thm"><span class="id" title="definition">(</span></a><a name="Unnamed_thm"><span class="id" title="definition">Fin</span></a> <a name="Unnamed_thm"><span class="id" title="definition">4</span></a> <a name="Unnamed_thm"><span class="id" title="definition">&lt;~&gt;</span></a> <a name="Unnamed_thm"><span class="id" title="definition">Fin</span></a> <a name="Unnamed_thm"><span class="id" title="definition">4)</span></a> <a name="Unnamed_thm"><span class="id" title="definition">=</span></a> <a name="Unnamed_thm"><span class="id" title="definition">24</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab236"></a><h2 class="section">Finite sums of natural numbers</h2>

<div class="paragraph"> </div>

 Perhaps slightly less obviously, finite sets are also closed under sigmas. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="finite_sigma"><span class="id" title="instance">finite_sigma</span></a> {<a name="X:210"><span class="id" title="binder">X</span></a>} (<a name="Y:211"><span class="id" title="binder">Y</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:210"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a name="H:212"><span class="id" title="binder">Finite</span></a> <a name="H:212"><span class="id" title="binder">X</span></a>} `{<a name="H0:214"><span class="id" title="binder">∀</span></a> <a name="H0:214"><span class="id" title="binder">x</span></a><a name="H0:214"><span class="id" title="binder">,</span></a> <a name="H0:214"><span class="id" title="binder">Finite</span></a> <a name="H0:214"><span class="id" title="binder">(</span></a><a name="H0:214"><span class="id" title="binder">Y</span></a> <a name="H0:214"><span class="id" title="binder">x</span></a><a name="H0:214"><span class="id" title="binder">)</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a> <a name="x:215"><span class="id" title="binder">x</span></a><a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a><a class="idref" href="HoTT.Spaces.Finite.html#X:210"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:211"><span class="id" title="variable">Y</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:215"><span class="id" title="variable">x</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv'"><span class="id" title="definition">finite_equiv'</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Types.Sigma.html#equiv_functor_sigma"><span class="id" title="definition">equiv_functor_sigma</span></a> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_inverse"><span class="id" title="lemma">equiv_inverse</span></a> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a name="x:218"><span class="id" title="binder">x</span></a> (<a name="y:219"><span class="id" title="binder">y</span></a>:<span class="id" title="var">Y</span> (<span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">x</span></a>)) ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#y:217"><span class="id" title="variable">y</span></a>)) <span class="id" title="var">_</span>).<br/>
</div>

<div class="doc">
Unfortunately, because <span class="inlinecode"><a class="idref" href="HoTT.Categories.Grothendieck.PseudofunctorToCat.html#compose"><span class="id" title="definition">compose</span></a></span> is currently beta-expanded, <span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode">(<span class="id" title="var">Y'</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><a class="idref" href="HoTT.Categories.Adjoint.UniversalMorphisms.Core.html#adjunction_universal.initial.Y"><span class="id" title="variable">Y</span></a></span> <span class="inlinecode"><span class="id" title="var">o</span></span> <span class="inlinecode"><a class="idref" href="HoTT.HIT.V.html#AssumingUA.MonicSetPresent_Uniqueness.e"><span class="id" title="variable">e</span></a>^-1)</span> doesn't change the goal. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Y'</span> := <span class="id" title="keyword">fun</span> <a name="x:221"><span class="id" title="binder">x</span></a> ⇒ <span class="id" title="var">Y</span> (<span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="x:223"><span class="id" title="binder">x</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<span class="id" title="var">Y'</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:222"><span class="id" title="variable">x</span></a>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>; <span class="id" title="var">clearbody</span> <span class="id" title="var">Y'</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">Y'</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Empty"><span class="id" title="inductive">Empty</span></a> <a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" title="abbreviation">pr1</span></a><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Sum.html#equiv_sigma_sum"><span class="id" title="definition">equiv_sigma_sum</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <span class="id" title="var">n</span>) <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a> <span class="id" title="var">Y'</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#finite_sum"><span class="id" title="instance">finite_sum</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Sigma.html#equiv_contr_sigma"><span class="id" title="definition">equiv_contr_sigma</span></a> <span class="id" title="var">_</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Amusingly, this automatically gives us a way to add up a family of natural numbers indexed by any finite set.  (We could of course also define such an operation directly, probably using <span class="inlinecode"><span class="id" title="var">merely_ind_hset</span></span>.) 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="finplus"><span class="id" title="definition">finplus</span></a> {<a name="X:224"><span class="id" title="binder">X</span></a>} `{<a name="H:225"><span class="id" title="binder">Finite</span></a> <a name="H:225"><span class="id" title="binder">X</span></a>} (<a name="f:226"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:224"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a> <a name="x:227"><span class="id" title="binder">x</span></a><a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a><a class="idref" href="HoTT.Spaces.Finite.html#X:224"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#f:226"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:227"><span class="id" title="variable">x</span></a>) <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fcard_sigma"><span class="id" title="definition">fcard_sigma</span></a> {<a name="X:228"><span class="id" title="binder">X</span></a>} (<a name="Y:229"><span class="id" title="binder">Y</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:228"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a name="H:230"><span class="id" title="binder">Finite</span></a> <a name="H:230"><span class="id" title="binder">X</span></a>} `{<a name="H0:232"><span class="id" title="binder">∀</span></a> <a name="H0:232"><span class="id" title="binder">x</span></a><a name="H0:232"><span class="id" title="binder">,</span></a> <a name="H0:232"><span class="id" title="binder">Finite</span></a> <a name="H0:232"><span class="id" title="binder">(</span></a><a name="H0:232"><span class="id" title="binder">Y</span></a> <a name="H0:232"><span class="id" title="binder">x</span></a><a name="H0:232"><span class="id" title="binder">)</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a> <a name="x:233"><span class="id" title="binder">x</span></a><a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a><a class="idref" href="HoTT.Spaces.Finite.html#X:228"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:229"><span class="id" title="variable">Y</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:233"><span class="id" title="variable">x</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#finplus"><span class="id" title="definition">finplus</span></a> (<span class="id" title="keyword">fun</span> <a name="x:234"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#Y:229"><span class="id" title="variable">Y</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:234"><span class="id" title="variable">x</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <a name="x:236"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> (<span class="id" title="var">Y</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:235"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g</span> := <span class="id" title="keyword">fun</span> <a name="x:238"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> (<span class="id" title="var">Y</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:237"><span class="id" title="variable">x</span></a>) : <a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> (<span class="id" title="var">Y</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:237"><span class="id" title="variable">x</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> (<span class="id" title="var">f</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:237"><span class="id" title="variable">x</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#finite_choice"><span class="id" title="definition">finite_choice</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="HoTT.Spaces.Finite.html#finplus"><span class="id" title="definition">finplus</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv'"><span class="id" title="definition">fcard_equiv'</span></a> (<a class="idref" href="HoTT.Types.Sigma.html#equiv_functor_sigma_id"><span class="id" title="definition">equiv_functor_sigma_id</span></a> <span class="id" title="var">g</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The sum of a finite constant family is the product by its cardinality. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="finplus_const"><span class="id" title="definition">finplus_const</span></a> <a name="X:239"><span class="id" title="binder">X</span></a> `{<a name="H:240"><span class="id" title="binder">Finite</span></a> <a name="H:240"><span class="id" title="binder">X</span></a>} <a name="n:241"><span class="id" title="binder">n</span></a><br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#finplus"><span class="id" title="definition">finplus</span></a> (<span class="id" title="keyword">fun</span> <a name="x:242"><span class="id" title="binder">x</span></a>:<a class="idref" href="HoTT.Spaces.Finite.html#X:239"><span class="id" title="variable">X</span></a> ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#n:241"><span class="id" title="variable">n</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:239"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Peano.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">×</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:241"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> (<span class="id" title="var">X</span> <a class="idref" href="Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv'"><span class="id" title="definition">fcard_equiv'</span></a> (<a class="idref" href="HoTT.Types.Sigma.html#equiv_sigma_prod0"><span class="id" title="definition">equiv_sigma_prod0</span></a> <span class="id" title="var">X</span> (<a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <span class="id" title="var">n</span>))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_prod"><span class="id" title="definition">fcard_prod</span></a> <span class="id" title="var">X</span> (<a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <span class="id" title="var">n</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Closure under sigmas and paths also implies closure under hfibers. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="finite_hfiber"><span class="id" title="definition">finite_hfiber</span></a> {<a name="X:243"><span class="id" title="binder">X</span></a> <a name="Y:244"><span class="id" title="binder">Y</span></a>} (<a name="f:245"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:243"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:244"><span class="id" title="variable">Y</span></a>) (<a name="y:246"><span class="id" title="binder">y</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Y:244"><span class="id" title="variable">Y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a name="H:247"><span class="id" title="binder">Finite</span></a> <a name="H:247"><span class="id" title="binder">X</span></a>} `{<a name="H0:248"><span class="id" title="binder">Finite</span></a> <a name="H0:248"><span class="id" title="binder">Y</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" title="definition">hfiber</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#f:245"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#y:246"><span class="id" title="variable">y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Therefore, the cardinality of the domain of a map between finite sets is the sum of the cardinalities of its hfibers. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="fcard_domain"><span class="id" title="definition">fcard_domain</span></a> {<a name="X:249"><span class="id" title="binder">X</span></a> <a name="Y:250"><span class="id" title="binder">Y</span></a>} (<a name="f:251"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:249"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:250"><span class="id" title="variable">Y</span></a>) `{<a name="H:252"><span class="id" title="binder">Finite</span></a> <a name="H:252"><span class="id" title="binder">X</span></a>} `{<a name="H0:253"><span class="id" title="binder">Finite</span></a> <a name="H0:253"><span class="id" title="binder">Y</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:249"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#finplus"><span class="id" title="definition">finplus</span></a> (<span class="id" title="keyword">fun</span> <a name="y:254"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" title="definition">hfiber</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#f:251"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#y:254"><span class="id" title="variable">y</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fcard_sigma"><span class="id" title="definition">fcard_sigma</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" title="definition">hfiber</span></a> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv'"><span class="id" title="definition">fcard_equiv'</span></a> (<a class="idref" href="HoTT.HFiber.html#equiv_fibration_replacement"><span class="id" title="definition">equiv_fibration_replacement</span></a> <span class="id" title="var">f</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
In particular, the image of a map between finite sets is finite. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="finite_image"><span class="id" title="definition">finite_image</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a name="X:255"><span class="id" title="binder">X</span></a> <a name="Y:256"><span class="id" title="binder">Y</span></a>} `{<a name="H:257"><span class="id" title="binder">Finite</span></a> <a name="H:257"><span class="id" title="binder">X</span></a>} `{<a name="H0:258"><span class="id" title="binder">Finite</span></a> <a name="H0:258"><span class="id" title="binder">Y</span></a>} (<a name="f:259"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:255"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:256"><span class="id" title="variable">Y</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#himage"><span class="id" title="definition">himage</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#f:259"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab237"></a><h2 class="section">Finite products of natural numbers</h2>

<div class="paragraph"> </div>

 Similarly, closure of finite sets under <span class="inlinecode"><span class="id" title="keyword">∀</span></span> automatically gives us a way to multiply a family of natural numbers indexed by any finite set.  Of course, if we defined this explicitly, it wouldn't need funext. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="finmult"><span class="id" title="definition">finmult</span></a> `{<a name="H:260"><span class="id" title="binder">Funext</span></a>} {<a name="X:261"><span class="id" title="binder">X</span></a>} `{<a name="H0:262"><span class="id" title="binder">Finite</span></a> <a name="H0:262"><span class="id" title="binder">X</span></a>} (<a name="f:263"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:261"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> (<a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="x:264"><span class="id" title="binder">x</span></a>:<a class="idref" href="HoTT.Spaces.Finite.html#X:261"><span class="id" title="variable">X</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#f:263"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:264"><span class="id" title="variable">x</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fcard_forall"><span class="id" title="definition">fcard_forall</span></a> `{<a name="H:265"><span class="id" title="binder">Funext</span></a>} {<a name="X:266"><span class="id" title="binder">X</span></a>} (<a name="Y:267"><span class="id" title="binder">Y</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:266"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a name="H0:268"><span class="id" title="binder">Finite</span></a> <a name="H0:268"><span class="id" title="binder">X</span></a>} `{<a name="H1:270"><span class="id" title="binder">∀</span></a> <a name="H1:270"><span class="id" title="binder">x</span></a><a name="H1:270"><span class="id" title="binder">,</span></a> <a name="H1:270"><span class="id" title="binder">Finite</span></a> <a name="H1:270"><span class="id" title="binder">(</span></a><a name="H1:270"><span class="id" title="binder">Y</span></a> <a name="H1:270"><span class="id" title="binder">x</span></a><a name="H1:270"><span class="id" title="binder">)</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> (<a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="x:271"><span class="id" title="binder">x</span></a>:<a class="idref" href="HoTT.Spaces.Finite.html#X:266"><span class="id" title="variable">X</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:267"><span class="id" title="variable">Y</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:271"><span class="id" title="variable">x</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#finmult"><span class="id" title="definition">finmult</span></a> (<span class="id" title="keyword">fun</span> <a name="x:272"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#Y:267"><span class="id" title="variable">Y</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:272"><span class="id" title="variable">x</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <a name="x:274"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> (<span class="id" title="var">Y</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:273"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g</span> := <span class="id" title="keyword">fun</span> <a name="x:276"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> (<span class="id" title="var">Y</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:275"><span class="id" title="variable">x</span></a>) : <a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> (<span class="id" title="var">Y</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:275"><span class="id" title="variable">x</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> (<span class="id" title="var">f</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:275"><span class="id" title="variable">x</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#finite_choice"><span class="id" title="definition">finite_choice</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="HoTT.Spaces.Finite.html#finmult"><span class="id" title="definition">finmult</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv'"><span class="id" title="definition">fcard_equiv'</span></a> (<a class="idref" href="HoTT.Types.Forall.html#equiv_functor_forall'"><span class="id" title="definition">equiv_functor_forall'</span></a> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_idmap"><span class="id" title="definition">equiv_idmap</span></a> <span class="id" title="var">X</span>) <span class="id" title="var">g</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The product of a finite constant family is the exponential by its cardinality. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="finmult_const"><span class="id" title="definition">finmult_const</span></a> `{<a name="H:277"><span class="id" title="binder">Funext</span></a>} <a name="X:278"><span class="id" title="binder">X</span></a> `{<a name="H0:279"><span class="id" title="binder">Finite</span></a> <a name="H0:279"><span class="id" title="binder">X</span></a>} <a name="n:280"><span class="id" title="binder">n</span></a><br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#finmult"><span class="id" title="definition">finmult</span></a> (<span class="id" title="keyword">fun</span> <a name="x:281"><span class="id" title="binder">x</span></a>:<a class="idref" href="HoTT.Spaces.Finite.html#X:278"><span class="id" title="variable">X</span></a> ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#n:280"><span class="id" title="variable">n</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Nat.html#nat_exp"><span class="id" title="definition">nat_exp</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:280"><span class="id" title="variable">n</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:278"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_arrow"><span class="id" title="definition">fcard_arrow</span></a> <span class="id" title="var">X</span> (<a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <span class="id" title="var">n</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab238"></a><h2 class="section">Finite subsets</h2>

<div class="paragraph"> </div>

 Closure under sigmas implies that a detachable subset of a finite set is finite. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <a name="finite_detachable_subset"><span class="id" title="instance">finite_detachable_subset</span></a> {<a name="X:282"><span class="id" title="binder">X</span></a>} `{<a name="H:283"><span class="id" title="binder">Finite</span></a> <a name="H:283"><span class="id" title="binder">X</span></a>} (<a name="P:284"><span class="id" title="binder">P</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:282"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a name="H0:286"><span class="id" title="binder">∀</span></a> <a name="H0:286"><span class="id" title="binder">x</span></a><a name="H0:286"><span class="id" title="binder">,</span></a> <a name="H0:286"><span class="id" title="binder">IsHProp</span></a> <a name="H0:286"><span class="id" title="binder">(</span></a><a name="H0:286"><span class="id" title="binder">P</span></a> <a name="H0:286"><span class="id" title="binder">x</span></a><a name="H0:286"><span class="id" title="binder">)</span></a>} `{<a name="H1:288"><span class="id" title="binder">∀</span></a> <a name="H1:288"><span class="id" title="binder">x</span></a><a name="H1:288"><span class="id" title="binder">,</span></a> <a name="H1:288"><span class="id" title="binder">Decidable</span></a> <a name="H1:288"><span class="id" title="binder">(</span></a><a name="H1:288"><span class="id" title="binder">P</span></a> <a name="H1:288"><span class="id" title="binder">x</span></a><a name="H1:288"><span class="id" title="binder">)</span></a>}<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a> <a name="x:289"><span class="id" title="binder">x</span></a><a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a><a class="idref" href="HoTT.Spaces.Finite.html#X:282"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#P:284"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:289"><span class="id" title="variable">x</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Conversely, if a subset of a finite set is finite, then it is detachable.  We show first that an embedding between finite subsets has detachable image. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="detachable_image_finite"><span class="id" title="definition">detachable_image_finite</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a name="X:290"><span class="id" title="binder">X</span></a> <a name="Y:291"><span class="id" title="binder">Y</span></a>} `{<a name="H:292"><span class="id" title="binder">Finite</span></a> <a name="H:292"><span class="id" title="binder">X</span></a>} `{<a name="H0:293"><span class="id" title="binder">Finite</span></a> <a name="H0:293"><span class="id" title="binder">Y</span></a>} (<a name="f:294"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:290"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:291"><span class="id" title="variable">Y</span></a>) `{<a name="IsEmbedding0:295"><span class="id" title="binder">IsEmbedding</span></a> <a name="IsEmbedding0:295"><span class="id" title="binder">f</span></a>}<br/>
: <a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="y:296"><span class="id" title="binder">y</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Basics.Decidable.html#Decidable"><span class="id" title="class">Decidable</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" title="definition">hfiber</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#f:294"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#y:296"><span class="id" title="variable">y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ff</span> : <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" title="definition">hfiber</span></a> <span class="id" title="var">f</span> <span class="id" title="var">y</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ff</span> <span class="id" title="keyword">as</span> [[|<span class="id" title="var">n</span>] <span class="id" title="var">e</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span>; <span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">e</span> <span class="id" title="var">u</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>; <span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">tt</span></a><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="detachable_finite_subset"><span class="id" title="definition">detachable_finite_subset</span></a> {<a name="X:297"><span class="id" title="binder">X</span></a>} `{<a name="H:298"><span class="id" title="binder">Finite</span></a> <a name="H:298"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="P:299"><span class="id" title="binder">P</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:297"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) `{<a name="H0:301"><span class="id" title="binder">∀</span></a> <a name="H0:301"><span class="id" title="binder">x</span></a><a name="H0:301"><span class="id" title="binder">,</span></a> <a name="H0:301"><span class="id" title="binder">IsHProp</span></a> <a name="H0:301"><span class="id" title="binder">(</span></a><a name="H0:301"><span class="id" title="binder">P</span></a> <a name="H0:301"><span class="id" title="binder">x</span></a><a name="H0:301"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a name="Pf:303"><span class="id" title="binder">Pf</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a> <a name="x:302"><span class="id" title="binder">x</span></a><a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a><a class="idref" href="HoTT.Spaces.Finite.html#X:297"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#P:299"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:302"><span class="id" title="variable">x</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a>)}<br/>
: <a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="x:304"><span class="id" title="binder">x</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Basics.Decidable.html#Decidable"><span class="id" title="class">Decidable</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#P:299"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:304"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Decidable.html#decidable_equiv"><span class="id" title="definition">decidable_equiv</span></a> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.HFiber.html#hfiber_fibration"><span class="id" title="definition">hfiber_fibration</span></a> <span class="id" title="var">x</span> <span class="id" title="var">P</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#detachable_image_finite"><span class="id" title="definition">detachable_image_finite</span></a> <a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" title="abbreviation">pr1</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>. </div>

<div class="doc">
Why doesn't Coq find this? 
</div>
<div class="code">
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#mapinO_pr1"><span class="id" title="instance">mapinO_pr1</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> (-1))). </div>

<div class="doc">
Why doesn't Coq find this? 
</div>
<div class="code">
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab239"></a><h2 class="section">Quotients</h2>

<div class="paragraph"> </div>

 The quotient of a finite set by a detachable equivalence relation is finite. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="DecidableQuotients"><span class="id" title="section">DecidableQuotients</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a name="H:305"><span class="id" title="binder">Univalence</span></a>} {<a name="X:306"><span class="id" title="binder">X</span></a>} `{<a name="H0:307"><span class="id" title="binder">Finite</span></a> <a name="H0:307"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="R:308"><span class="id" title="binder">R</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#Relation"><span class="id" title="definition">Relation</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:306"><span class="id" title="variable">X</span></a>) `{<a name="is_mere_relation0:309"><span class="id" title="binder">is_mere_relation</span></a> <a name="is_mere_relation0:309"><span class="id" title="binder">X</span></a> <a name="is_mere_relation0:309"><span class="id" title="binder">R</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a name="H1:310"><span class="id" title="binder">Reflexive</span></a> <a name="H1:310"><span class="id" title="binder">_</span></a> <a name="H1:310"><span class="id" title="binder">R</span></a>} `{<a name="H2:311"><span class="id" title="binder">Transitive</span></a> <a name="H2:311"><span class="id" title="binder">_</span></a> <a name="H2:311"><span class="id" title="binder">R</span></a>} `{<a name="H3:312"><span class="id" title="binder">Symmetric</span></a> <a name="H3:312"><span class="id" title="binder">_</span></a> <a name="H3:312"><span class="id" title="binder">R</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a name="Rd:315"><span class="id" title="binder">Rd</span></a> : <a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="x:313"><span class="id" title="binder">x</span></a> <a name="y:314"><span class="id" title="binder">y</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Basics.Decidable.html#Decidable"><span class="id" title="class">Decidable</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#R:308"><span class="id" title="variable">R</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:313"><span class="id" title="variable">x</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#y:314"><span class="id" title="variable">y</span></a>)}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="finite_quotient"><span class="id" title="instance">finite_quotient</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> (<a class="idref" href="HoTT.Colimits.Quotient.html#Quotient"><span class="id" title="definition">Quotient</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#DecidableQuotients.R"><span class="id" title="variable">R</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <a class="idref" href="HoTT.Spaces.Finite.html#merely_equiv_fin"><span class="id" title="method">merely_equiv_fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#DecidableQuotients.X"><span class="id" title="variable">X</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">R'</span> <a name="x:318"><span class="id" title="binder">x</span></a> <a name="y:319"><span class="id" title="binder">y</span></a> := <a class="idref" href="HoTT.Spaces.Finite.html#DecidableQuotients.R"><span class="id" title="variable">R</span></a> (<span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">x</span></a>) (<span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">y</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="HoTT.Basics.Overture.html#is_mere_relation"><span class="id" title="abbreviation">is_mere_relation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">R'</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="HoTT.Basics.Overture.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <span class="id" title="var">R'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">unfold</span> <span class="id" title="var">R'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="HoTT.Basics.Overture.html#Symmetric"><span class="id" title="class">Symmetric</span></a> <span class="id" title="var">R'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span> ? ?; <span class="id" title="tactic">unfold</span> <span class="id" title="var">R'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#symmetry"><span class="id" title="definition">symmetry</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="HoTT.Basics.Overture.html#Transitive"><span class="id" title="class">Transitive</span></a> <span class="id" title="var">R'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span> ? ? ?; <span class="id" title="tactic">unfold</span> <span class="id" title="var">R'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#transitivity"><span class="id" title="definition">transitivity</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">R'd</span> : <a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="x:322"><span class="id" title="binder">x</span></a> <a name="y:323"><span class="id" title="binder">y</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Basics.Decidable.html#Decidable"><span class="id" title="class">Decidable</span></a> (<span class="id" title="var">R'</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:320"><span class="id" title="variable">x</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#y:321"><span class="id" title="variable">y</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span> ? ?; <span class="id" title="tactic">unfold</span> <span class="id" title="var">R'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#DecidableQuotients.Rd"><span class="id" title="variable">Rd</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">srefine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv'"><span class="id" title="definition">finite_equiv'</span></a> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#equiv_quotient_functor"><span class="id" title="definition">equiv_quotient_functor</span></a> <span class="id" title="var">R'</span> <a class="idref" href="HoTT.Spaces.Finite.html#DecidableQuotients.R"><span class="id" title="variable">R</span></a> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">by</span> <span class="id" title="tactic">try</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">R'</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#DecidableQuotients.X"><span class="id" title="variable">X</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">R'</span> ? ? ? ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv"><span class="id" title="definition">finite_equiv</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Empty"><span class="id" title="inductive">Empty</span></a> <span class="id" title="var">_</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#Quotient_rec"><span class="id" title="definition">Quotient_rec</span></a> <span class="id" title="var">R'</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Types.Empty.html#Empty_rec"><span class="id" title="lemma">Empty_rec</span></a> (<span class="id" title="keyword">fun</span> <a name="x:326"><span class="id" title="binder">x</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:324"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span> <span class="id" title="keyword">end</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> (<span class="id" title="var">R''</span> <a name="x:330"><span class="id" title="binder">x</span></a> <a name="y:331"><span class="id" title="binder">y</span></a> := <span class="id" title="var">R'</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:328"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#y:329"><span class="id" title="variable">y</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="HoTT.Basics.Overture.html#is_mere_relation"><span class="id" title="abbreviation">is_mere_relation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">R''</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="HoTT.Basics.Overture.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <span class="id" title="var">R''</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">unfold</span> <span class="id" title="var">R''</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="HoTT.Basics.Overture.html#Symmetric"><span class="id" title="class">Symmetric</span></a> <span class="id" title="var">R''</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span> ? ?; <span class="id" title="tactic">unfold</span> <span class="id" title="var">R''</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#symmetry"><span class="id" title="definition">symmetry</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="HoTT.Basics.Overture.html#Transitive"><span class="id" title="class">Transitive</span></a> <span class="id" title="var">R''</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span> ? ? ?; <span class="id" title="tactic">unfold</span> <span class="id" title="var">R''</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#transitivity"><span class="id" title="definition">transitivity</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="x:334"><span class="id" title="binder">x</span></a> <a name="y:335"><span class="id" title="binder">y</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Basics.Decidable.html#Decidable"><span class="id" title="class">Decidable</span></a> (<span class="id" title="var">R''</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:332"><span class="id" title="variable">x</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#y:333"><span class="id" title="variable">y</span></a>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span> ? ?; <span class="id" title="tactic">unfold</span> <span class="id" title="var">R''</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">R'd</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">inlresp</span> := (<span class="id" title="keyword">fun</span> <a name="x:342"><span class="id" title="binder">x</span></a> <a name="y:343"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" title="abbreviation">idmap</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="x:340"><span class="id" title="binder">x</span></a> <a name="y:341"><span class="id" title="binder">y</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <span class="id" title="var">R''</span> <a class="idref" href="HoTT.Spaces.Finite.html#x:336"><span class="id" title="variable">x</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#y:337"><span class="id" title="variable">y</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">R'</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:336"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#y:337"><span class="id" title="variable">y</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="HoTT.Basics.Decidable.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a><a name="x:345"><span class="id" title="binder">x</span></a><a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a><a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <span class="id" title="var">n</span> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <span class="id" title="var">R'</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:344"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span>|<span class="id" title="var">np</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">r</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv'"><span class="id" title="definition">finite_equiv'</span></a> (<a class="idref" href="HoTT.Colimits.Quotient.html#Quotient"><span class="id" title="definition">Quotient</span></a> <span class="id" title="var">R''</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#Build_Equiv"><span class="id" title="constructor">Build_Equiv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#Quotient_functor"><span class="id" title="definition">Quotient_functor</span></a> <span class="id" title="var">R''</span> <span class="id" title="var">R'</span> <a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">inlresp</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Truncations.Core.html#isequiv_surj_emb"><span class="id" title="definition">isequiv_surj_emb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Truncations.Core.html#BuildIsSurjection"><span class="id" title="definition">BuildIsSurjection</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#Quotient_ind_hprop"><span class="id" title="definition">Quotient_ind_hprop</span></a> <span class="id" title="var">R'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">y</span>|[]]; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Truncations.Core.html#Trunc.tr"><span class="id" title="constructor">tr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#class_of"><span class="id" title="definition">class_of</span></a> <span class="id" title="var">R''</span> <span class="id" title="var">y</span>); <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#class_of"><span class="id" title="definition">class_of</span></a> <span class="id" title="var">R''</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Colimits.Quotient.html#qglue"><span class="id" title="definition">qglue</span></a>, <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.HSet.html#isembedding_isinj_hset"><span class="id" title="lemma">isembedding_isinj_hset</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#Quotient_ind_hprop"><span class="id" title="definition">Quotient_ind_hprop</span></a> <span class="id" title="var">R''</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#Quotient_ind_hprop"><span class="id" title="definition">Quotient_ind_hprop</span></a> <span class="id" title="var">R''</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Colimits.Quotient.html#qglue"><span class="id" title="definition">qglue</span></a>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">R''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#related_quotient_paths"><span class="id" title="lemma">related_quotient_paths</span></a> <span class="id" title="var">R'</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">u</span>) (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">q</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_equiv'"><span class="id" title="definition">finite_equiv'</span></a> (<a class="idref" href="HoTT.Colimits.Quotient.html#Quotient"><span class="id" title="definition">Quotient</span></a> <span class="id" title="var">R''</span> <a class="idref" href="Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#Build_Equiv"><span class="id" title="constructor">Build_Equiv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Types.Sum.html#sum_ind"><span class="id" title="definition">sum_ind</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="HoTT.Colimits.Quotient.html#Quotient"><span class="id" title="definition">Quotient</span></a> <span class="id" title="var">R'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Colimits.Quotient.html#Quotient_functor"><span class="id" title="definition">Quotient_functor</span></a> <span class="id" title="var">R''</span> <span class="id" title="var">R'</span> <a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">inlresp</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="HoTT.Colimits.Quotient.html#class_of"><span class="id" title="definition">class_of</span></a> <span class="id" title="var">R'</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>))) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Truncations.Core.html#isequiv_surj_emb"><span class="id" title="definition">isequiv_surj_emb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Truncations.Core.html#BuildIsSurjection"><span class="id" title="definition">BuildIsSurjection</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#Quotient_ind_hprop"><span class="id" title="definition">Quotient_ind_hprop</span></a> <span class="id" title="var">R'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">y</span>|[]]; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Truncations.Core.html#Trunc.tr"><span class="id" title="constructor">tr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="HoTT.Colimits.Quotient.html#class_of"><span class="id" title="definition">class_of</span></a> <span class="id" title="var">R''</span> <span class="id" title="var">y</span>)); <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>); <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.HSet.html#isembedding_isinj_hset"><span class="id" title="lemma">isembedding_isinj_hset</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Types.Sum.html#sum_ind"><span class="id" title="definition">sum_ind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#Quotient_ind_hprop"><span class="id" title="definition">Quotient_ind_hprop</span></a> <span class="id" title="var">R''</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Types.Sum.html#sum_ind"><span class="id" title="definition">sum_ind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#Quotient_ind_hprop"><span class="id" title="definition">Quotient_ind_hprop</span></a> <span class="id" title="var">R''</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a>, <a class="idref" href="HoTT.Colimits.Quotient.html#qglue"><span class="id" title="definition">qglue</span></a>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">R''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#related_quotient_paths"><span class="id" title="lemma">related_quotient_paths</span></a> <span class="id" title="var">R'</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">u</span>) (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Colimits.Quotient.html#related_quotient_paths"><span class="id" title="lemma">related_quotient_paths</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">q</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<span class="id" title="var">np</span> (<a class="idref" href="HoTT.Truncations.Core.html#Trunc.tr"><span class="id" title="constructor">tr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">(</span></a><span class="id" title="var">v</span> <a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">;</span></a> <span class="id" title="var">q</span><a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">u</span>|[]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">revert</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#Quotient_ind_hprop"><span class="id" title="definition">Quotient_ind_hprop</span></a> <span class="id" title="var">R''</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Colimits.Quotient.html#related_quotient_paths"><span class="id" title="lemma">related_quotient_paths</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">q</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<span class="id" title="var">np</span> (<a class="idref" href="HoTT.Truncations.Core.html#Trunc.tr"><span class="id" title="constructor">tr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">(</span></a><span class="id" title="var">u</span><a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">;</span></a><span class="id" title="var">q</span><a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Therefore, the cardinality of <span class="inlinecode"><a class="idref" href="HoTT.Categories.UniversalProperties.html#UniversalMorphism.TerminalMorphism.X"><span class="id" title="variable">X</span></a></span> is the sum of the cardinalities of its equivalence classes. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="fcard_quotient"><span class="id" title="definition">fcard_quotient</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#DecidableQuotients.X"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#finplus"><span class="id" title="definition">finplus</span></a> (<span class="id" title="keyword">fun</span> <a name="z:346"><span class="id" title="binder">z</span></a>:<a class="idref" href="HoTT.Colimits.Quotient.html#Quotient"><span class="id" title="definition">Quotient</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#DecidableQuotients.R"><span class="id" title="variable">R</span></a> ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a><a name="x:347"><span class="id" title="binder">x</span></a><a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a><a class="idref" href="HoTT.Spaces.Finite.html#DecidableQuotients.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="HoTT.Colimits.Quotient.html#in_class"><span class="id" title="definition">in_class</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#DecidableQuotients.R"><span class="id" title="variable">R</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#z:346"><span class="id" title="variable">z</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#x:347"><span class="id" title="variable">x</span></a><a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fcard_domain"><span class="id" title="definition">fcard_domain</span></a> (<a class="idref" href="HoTT.Colimits.Quotient.html#class_of"><span class="id" title="definition">class_of</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#DecidableQuotients.R"><span class="id" title="variable">R</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a>, <a class="idref" href="HoTT.Types.Arrow.html#path_arrow"><span class="id" title="definition">path_arrow</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">z</span>; <span class="id" title="var">revert</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#Quotient_ind_hprop"><span class="id" title="definition">Quotient_ind_hprop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#fcard_equiv'"><span class="id" title="definition">fcard_equiv'</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" title="definition">hfiber</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Types.Sigma.html#equiv_functor_sigma_id"><span class="id" title="definition">equiv_functor_sigma_id</span></a> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Colimits.Quotient.html#path_quotient"><span class="id" title="lemma">path_quotient</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#DecidableQuotients.R"><span class="id" title="variable">R</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x</span> <a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">oE</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Trunc.html#equiv_iff_hprop"><span class="id" title="definition">equiv_iff_hprop</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#symmetry"><span class="id" title="definition">symmetry</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="HoTT.Spaces.Finite.html#DecidableQuotients"><span class="id" title="section">DecidableQuotients</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab240"></a><h2 class="section">Injections</h2>

<div class="paragraph"> </div>

 An injection between finite sets induces an inequality between their cardinalities. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="leq_inj_finite"><span class="id" title="definition">leq_inj_finite</span></a> `{<a name="H:348"><span class="id" title="binder">Funext</span></a>} {<a name="X:349"><span class="id" title="binder">X</span></a> <a name="Y:350"><span class="id" title="binder">Y</span></a>} {<a name="fX:351"><span class="id" title="binder">fX</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:349"><span class="id" title="variable">X</span></a>} {<a name="fY:352"><span class="id" title="binder">fY</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Finite"><span class="id" title="class">Finite</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:350"><span class="id" title="variable">Y</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="f:353"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#X:349"><span class="id" title="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:350"><span class="id" title="variable">Y</span></a>) (<a name="i:354"><span class="id" title="binder">i</span></a> : <a class="idref" href="HoTT.Basics.Trunc.html#IsEmbedding"><span class="id" title="abbreviation">IsEmbedding</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#f:353"><span class="id" title="variable">f</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:349"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Spaces.Nat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Y:350"><span class="id" title="variable">Y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#MapIn"><span class="id" title="class">MapIn</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> (-1)) <span class="id" title="var">f</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">fX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span> <span class="id" title="var">e</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">fY</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> <span class="id" title="var">e'</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">g</span> := <span class="id" title="var">e'</span> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <span class="id" title="var">f</span> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <span class="id" title="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">^-1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#MapIn"><span class="id" title="class">MapIn</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> (-1)) <span class="id" title="var">g</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">unfold</span> <span class="id" title="var">g</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">g</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">exact</span> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">g</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> : <a class="idref" href="HoTT.HSet.html#isinj"><span class="id" title="definition">isinj</span></a> <span class="id" title="var">g</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.HSet.html#isinj_embedding"><span class="id" title="lemma">isinj_embedding</span></a>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">m</span>].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">elim</span> (<span class="id" title="var">g</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>)). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">h</span> := <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with"><span class="id" title="definition">fin_transpose_last_with</span></a> <span class="id" title="var">m</span> (<span class="id" title="var">g</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>))<a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#MapIn"><span class="id" title="class">MapIn</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> (-1)) <span class="id" title="var">h</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">unfold</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Ha</span> : <a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="a:356"><span class="id" title="binder">a</span></a>:<a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <span class="id" title="var">n</span><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Types.Sum.html#is_inl"><span class="id" title="definition">is_inl</span></a> (<span class="id" title="var">h</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#a:355"><span class="id" title="variable">a</span></a>))).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">g</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">b</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">b</span>|[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">q</span> : <span class="id" title="var">g</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>) <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">g</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Types.Sum.html#inl_ne_inr"><span class="id" title="definition">inl_ne_inr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">r</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">p</span> <span class="id" title="tactic">in</span> <span class="id" title="var">q</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#symmetric_neq"><span class="id" title="definition">symmetric_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">r</span> : <span class="id" title="var">h</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Equivalences.html#moveR_equiv_V"><span class="id" title="definition">moveR_equiv_V</span></a>; <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_rest"><span class="id" title="definition">fin_transpose_last_with_rest</span></a> <span class="id" title="var">m</span> (<span class="id" title="var">g</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>)) <span class="id" title="var">b</span> <span class="id" title="var">q</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#6bc2e8b4a6e295632a90f5f35132db8d"><span class="id" title="notation">^</span></a>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">exact</span> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">q</span> : <span class="id" title="var">h</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">g</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Equivalences.html#moveR_equiv_V"><span class="id" title="definition">moveR_equiv_V</span></a>; <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#6bc2e8b4a6e295632a90f5f35132db8d"><span class="id" title="notation">^</span></a>); <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_with"><span class="id" title="definition">fin_transpose_last_with_with</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="HoTT.Types.Sum.html#is_inl_or_is_inr"><span class="id" title="definition">is_inl_or_is_inr</span></a> (<span class="id" title="var">g</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span>|<span class="id" title="var">r</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">s</span> := <a class="idref" href="HoTT.Types.Sum.html#inr_un_inr"><span class="id" title="definition">inr_un_inr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">generalize</span> (<a class="idref" href="HoTT.Types.Sum.html#un_inr"><span class="id" title="definition">un_inr</span></a> (<span class="id" title="var">g</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>)) <span class="id" title="var">r</span>); <span class="id" title="tactic">intros</span> [] <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="HoTT.Types.Sum.html#inl_ne_inr"><span class="id" title="definition">inl_ne_inr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">p</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">s</span>))). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hb</span> : <a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a name="b:358"><span class="id" title="binder">b</span></a>:<a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Types.Sum.html#is_inr"><span class="id" title="definition">is_inr</span></a> (<span class="id" title="var">h</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#b:357"><span class="id" title="variable">b</span></a>))).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">q</span> : <span class="id" title="var">h</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Equivalences.html#moveR_equiv_V"><span class="id" title="definition">moveR_equiv_V</span></a>; <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_transpose_last_with_last"><span class="id" title="definition">fin_transpose_last_with_last</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">q</span>; <span class="id" title="tactic">exact</span> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">m</span> (<a class="idref" href="HoTT.Types.Sum.html#unfunctor_sum_l"><span class="id" title="definition">unfunctor_sum_l</span></a> <span class="id" title="var">h</span> <span class="id" title="var">Ha</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#mapinO_unfunctor_sum_l"><span class="id" title="definition">mapinO_unfunctor_sum_l</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> (-1)) <span class="id" title="var">h</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Hb</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab241"></a><h2 class="section">Initial segments of <span class="inlinecode"><a class="idref" href="HoTT.Tests.html#Issue754_1.nat"><span class="id" title="inductive">nat</span></a></span></h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="nat_fin"><span class="id" title="definition">nat_fin</span></a> (<a name="n:359"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a name="k:360"><span class="id" title="binder">k</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:359"><span class="id" title="variable">n</span></a>) : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">nf</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span>|<span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">nf</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">n</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="nat_fin_inl"><span class="id" title="definition">nat_fin_inl</span></a> (<a name="n:361"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a name="k:362"><span class="id" title="binder">k</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:361"><span class="id" title="variable">n</span></a>)<br/>
: <a class="idref" href="HoTT.Spaces.Finite.html#nat_fin"><span class="id" title="definition">nat_fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:361"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:362"><span class="id" title="variable">k</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#nat_fin"><span class="id" title="definition">nat_fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:361"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:362"><span class="id" title="variable">k</span></a><br/>
&nbsp;&nbsp;:= 1.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="nat_fin_compl"><span class="id" title="definition">nat_fin_compl</span></a> (<a name="n:363"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a name="k:364"><span class="id" title="binder">k</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:363"><span class="id" title="variable">n</span></a>) : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">nfc</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span>|<span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><span class="id" title="var">nfc</span> <span class="id" title="var">k</span><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> 0.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="nat_fin_compl_compl"><span class="id" title="definition">nat_fin_compl_compl</span></a> <a name="n:365"><span class="id" title="binder">n</span></a> <a name="k:366"><span class="id" title="binder">k</span></a><br/>
: <a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#nat_fin"><span class="id" title="definition">nat_fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:365"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:366"><span class="id" title="variable">k</span></a> <a class="idref" href="Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#nat_fin_compl"><span class="id" title="definition">nat_fin_compl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:365"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:366"><span class="id" title="variable">k</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:365"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span>|?]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="HoTT.Spaces.Nat.html#nat_plus_comm"><span class="id" title="definition">nat_plus_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="HoTT.Spaces.Nat.html#nat_plus_comm"><span class="id" title="definition">nat_plus_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a> <a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">IH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="HoTT.Spaces.Nat.html#nat_plus_comm"><span class="id" title="definition">nat_plus_comm</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab242"></a><h2 class="section">Enumerations</h2>

<div class="paragraph"> </div>

 A function from <span class="inlinecode"><a class="idref" href="HoTT.Tests.html#Issue754_1.nat"><span class="id" title="inductive">nat</span></a></span> to a finite set must repeat itself eventually. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="Enumeration"><span class="id" title="section">Enumeration</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a name="H:367"><span class="id" title="binder">Funext</span></a>} {<a name="X:368"><span class="id" title="binder">X</span></a>} `{<a name="H0:369"><span class="id" title="binder">Finite</span></a> <a name="H0:369"><span class="id" title="binder">X</span></a>} (<a name="e:370"><span class="id" title="binder">e</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#X:368"><span class="id" title="variable">X</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="Enumeration.er"><span class="id" title="variable">er</span></a> (<a name="n:371"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:371"><span class="id" title="variable">n</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Enumeration.X"><span class="id" title="variable">X</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a name="k:372"><span class="id" title="binder">k</span></a> ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#Enumeration.e"><span class="id" title="variable">e</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#nat_fin"><span class="id" title="definition">nat_fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:371"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:372"><span class="id" title="variable">k</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="finite_enumeration_stage"><span class="id" title="lemma">finite_enumeration_stage</span></a> (<a name="n:373"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Trunc.html#IsEmbedding"><span class="id" title="abbreviation">IsEmbedding</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#Enumeration.er"><span class="id" title="variable">er</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:373"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a> <a name="n:374"><span class="id" title="binder">n</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a> <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a> <a name="k:375"><span class="id" title="binder">k</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a> <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Enumeration.e"><span class="id" title="variable">e</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:374"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Enumeration.e"><span class="id" title="variable">e</span></a> <a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#n:374"><span class="id" title="variable">n</span></a> <a class="idref" href="Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:375"><span class="id" title="variable">k</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> [<span class="id" title="var">IH</span>|<span class="id" title="var">IH</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Trunc.html#hprop_inhabited_contr"><span class="id" title="instance">hprop_inhabited_contr</span></a>; <span class="id" title="tactic">intros</span> [[] <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="HoTT.Spaces.Finite.html#detachable_image_finite"><span class="id" title="definition">detachable_image_finite</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#Enumeration.er"><span class="id" title="variable">er</span></a> <span class="id" title="var">n</span>) (<a class="idref" href="HoTT.Spaces.Finite.html#Enumeration.er"><span class="id" title="variable">er</span></a> <span class="id" title="var">n</span><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" title="constructor">tt</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">k</span> <span class="id" title="var">p</span>]|<span class="id" title="var">ne</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="HoTT.Spaces.Finite.html#nat_fin"><span class="id" title="definition">nat_fin</span></a> <span class="id" title="var">n</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="HoTT.Spaces.Finite.html#nat_fin_compl"><span class="id" title="definition">nat_fin_compl</span></a> <span class="id" title="var">n</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="HoTT.Spaces.Finite.html#nat_fin_compl_compl"><span class="id" title="definition">nat_fin_compl_compl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Trunc.html#hprop_allpath"><span class="id" title="lemma">hprop_allpath</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Types.Sigma.html#path_sigma_hprop"><span class="id" title="definition">path_sigma_hprop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">k</span>|[]] <span class="id" title="var">p</span>], <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l</span>|[]] <span class="id" title="var">q</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.HSet.html#isinj_embedding"><span class="id" title="lemma">isinj_embedding</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" title="definition">ap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">er</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">p</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">q</span><a class="idref" href="HoTT.Basics.Overture.html#6bc2e8b4a6e295632a90f5f35132db8d"><span class="id" title="notation">^</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Types.Empty.html#Empty_rec"><span class="id" title="lemma">Empty_rec</span></a> (<span class="id" title="var">ne</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">p</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">q</span><a class="idref" href="HoTT.Basics.Overture.html#6bc2e8b4a6e295632a90f5f35132db8d"><span class="id" title="notation">^</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Types.Empty.html#Empty_rec"><span class="id" title="lemma">Empty_rec</span></a> (<span class="id" title="var">ne</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">q</span> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#6bc2e8b4a6e295632a90f5f35132db8d"><span class="id" title="notation">^</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="finite_enumeration_repeats"><span class="id" title="definition">finite_enumeration_repeats</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a> <a name="n:376"><span class="id" title="binder">n</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a> <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a> <a name="k:377"><span class="id" title="binder">k</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a> <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Enumeration.e"><span class="id" title="variable">e</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:376"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Enumeration.e"><span class="id" title="variable">e</span></a> <a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#n:376"><span class="id" title="variable">n</span></a> <a class="idref" href="Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:377"><span class="id" title="variable">k</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="HoTT.Spaces.Finite.html#finite_enumeration_stage"><span class="id" title="lemma">finite_enumeration_stage</span></a> <a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Enumeration.X"><span class="id" title="variable">X</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span>|?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">q</span> := <a class="idref" href="HoTT.Spaces.Finite.html#leq_inj_finite"><span class="id" title="definition">leq_inj_finite</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#Enumeration.er"><span class="id" title="variable">er</span></a> <a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Spaces.Finite.html#fcard"><span class="id" title="method">fcard</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Enumeration.X"><span class="id" title="variable">X</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a>) <span class="id" title="var">p</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="HoTT.Spaces.Nat.html#not_nltn"><span class="id" title="definition">not_nltn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="HoTT.Spaces.Finite.html#Enumeration"><span class="id" title="section">Enumeration</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="HoTT.Spaces.Finite.html#fsucc_mod"><span class="id" title="definition">fsucc_mod</span></a></span> is the successor function mod n 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="fsucc_mod"><span class="id" title="definition">fsucc_mod</span></a> {<a name="n:378"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:378"><span class="id" title="variable">n</span></a> <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:378"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" title="abbreviation">idmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span>|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fsucc"><span class="id" title="definition">fsucc</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_zero"><span class="id" title="definition">fin_zero</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
fsucc allows us to convert a natural number into an element of a finite set. This can be thought of as the modulo map. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="fin_nat"><span class="id" title="definition">fin_nat</span></a> {<a name="n:379"><span class="id" title="binder">n</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} (<a name="m:380"><span class="id" title="binder">m</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:379"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="HoTT.Spaces.Finite.html#m:380"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#fin_zero"><span class="id" title="definition">fin_zero</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m</span> ⇒ <a class="idref" href="HoTT.Spaces.Finite.html#fsucc_mod"><span class="id" title="definition">fsucc_mod</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#fin_nat:381"><span class="id" title="definition">fin_nat</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#m:380"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
TODO: Would this notation be useful? 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a name="lab243"></a><h2 class="section">Tactics</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">FinIndOn</span> <span class="id" title="var">X</span> := <span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">X</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> 0 ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;| <a class="idref" href="HoTT.Basics.Overture.html#Empty"><span class="id" title="inductive">Empty</span></a> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;| <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;| <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> ?<span class="id" title="var">n</span> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span>|<span class="id" title="var">X</span>]<br/>
&nbsp;&nbsp;| ?<span class="id" title="var">L</span> <a class="idref" href="Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span>|<span class="id" title="var">X</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
This tactic can be used to generate n cases from a goal like forall (x : Fin n), _ 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">FinInd</span> := <span class="id" title="keyword">let</span> <span class="id" title="var">X</span> := <span class="id" title="tactic">fresh</span> "X" <span class="id" title="tactic">in</span> <span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>; <span class="id" title="var">FinIndOn</span> <span class="id" title="var">X</span>.<br/>

<br/>
</div>

<div class="doc">
The 1-dimensional version of Sperner's lemma says that given any finite sequence of decidable hProps, where the sequence starts with true and ends with false, we can find a point in the sequence where the sequence changes from true to false. This is like a discrete intermediate value theorem. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="sperners_lemma_1d"><span class="id" title="definition">sperners_lemma_1d</span></a> {<a name="n:383"><span class="id" title="binder">n</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">(</span></a><a name="f:384"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#n:383"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bc63483175fac06bcd5541a5e9093b18"><span class="id" title="notation">.+2</span></a>) <a class="idref" href="Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.DProp.html#DHProp"><span class="id" title="record">DHProp</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="left_true:385"><span class="id" title="binder">left_true</span></a> : <a class="idref" href="HoTT.Spaces.Finite.html#f:384"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fin_zero"><span class="id" title="definition">fin_zero</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="right_false:386"><span class="id" title="binder">right_false</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#f:384"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fin_last"><span class="id" title="definition">fin_last</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a><a name="k:387"><span class="id" title="binder">k</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#Fin"><span class="id" title="definition">Fin</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#n:383"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#f:384"><span class="id" title="variable">f</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#fin_incl"><span class="id" title="definition">fin_incl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:387"><span class="id" title="variable">k</span></a>) <a class="idref" href="Coq.Init.Datatypes.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="HoTT.Basics.Overture.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#f:384"><span class="id" title="variable">f</span></a> (<a class="idref" href="HoTT.Spaces.Finite.html#fsucc"><span class="id" title="definition">fsucc</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#k:387"><span class="id" title="variable">k</span></a>)<a class="idref" href="Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ???.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">∃</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_zero"><span class="id" title="definition">fin_zero</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="HoTT.Basics.Decidable.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="var">f</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fin_incl"><span class="id" title="definition">fin_incl</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fin_last"><span class="id" title="definition">fin_last</span></a>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">prev_true</span>|<span class="id" title="var">prev_false</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <a class="idref" href="HoTT.Spaces.Finite.html#fin_last"><span class="id" title="definition">fin_last</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">sperners_lemma_1d</span> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="HoTT.Spaces.Finite.html#fin_incl"><span class="id" title="definition">fin_incl</span></a>) <span class="id" title="var">left_true</span> <span class="id" title="var">prev_false</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">k'</span> [<span class="id" title="var">fleft</span> <span class="id" title="var">fright</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="HoTT.Spaces.Finite.html#fin_incl"><span class="id" title="definition">fin_incl</span></a> <span class="id" title="var">k'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>